!function(){"use strict";function e(e,t,r){t.validity.valid?function(e,t,r){const o=e.querySelector(`#${t.id}-error`);o.textContent="",o.classList.remove(r.errorClass),t.classList.remove(r.inputErrorClass)}(e,t,r):function(e,t,r,o){const n=e.querySelector(`#${t.id}-error`);n.textContent=r,n.classList.add(o.errorClass),t.classList.add(o.inputErrorClass)}(e,t,t.validationMessage,r)}function t(e,t){e.some((e=>!e.validity.valid))?function(e){e.disabled=!0}(t):function(e){e.disabled=!1}(t)}const r=new class{constructor(e){this._baseUrl=e.baseUrl,this._headers=e.headers}_defaultPromise(e){return e.then(this._getResult).catch(console.error)}_getResult(e){return e.ok?e.json():Promise.reject(`Error: ${e.status}`)}getInitialCards(){return this._defaultPromise(fetch(`${this._baseUrl}/cards`,{headers:this._headers}))}getUser(){return this._defaultPromise(fetch(`${this._baseUrl}/users/me`,{headers:this._headers}))}editUserInfo(e){let{name:t,about:r}=e;return this._defaultPromise(fetch(`${this._baseUrl}/users/me`,{method:"PATCH",headers:this._headers,body:JSON.stringify({name:t,about:r})}))}editUserAvatar(e){let{avatar:t}=e;return this._defaultPromise(fetch(`${this._baseUrl}/users/me/avatar`,{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:t})}))}postCard(e){let{name:t,link:r}=e;return this._defaultPromise(fetch(`${this._baseUrl}/cards`,{method:"POST",headers:this._headers,body:JSON.stringify({name:t,link:r})}))}removeCard(e){return this._defaultPromise(fetch(`${this._baseUrl}/cards/${e}`,{method:"DELETE",headers:this._headers}))}likeCard(e){return this._defaultPromise(fetch(`${this._baseUrl}/cards/${e}/likes`,{method:"PUT",headers:this._headers}))}dislikeCard(e){return this._defaultPromise(fetch(`${this._baseUrl}/cards/${e}/likes`,{method:"DELETE",headers:this._headers}))}}({baseUrl:"https://around-api.en.tripleten-services.com/v1",headers:{authorization:"6a49bc73-4cbf-41b7-bd3f-9c47b1919869","Content-Type":"application/json"}}),o=document.querySelector(".profile"),n=o.querySelector(".profile__avatar"),a=o.querySelector(".profile__name"),s=o.querySelector(".profile__about"),i=o.querySelector("#profile-btn"),c=o.querySelector("#avatar-btn");function l(e){a.textContent=e.name,s.textContent=e.about}function d(e){n.src=e.avatar}function u(r,o,n){n?o.forEach((e=>{n[e.id]?e.value=n[e.id]:e.reset()})):r.reset(),function(r,o){const n=Array.from(r.querySelectorAll(o.inputSelector)),a=r.querySelector(o.submitButtonSelector);t(n,a),n.forEach((s=>{e(r,s,o),t(n,a)}))}(r,Q)}function m(e){const t={};return e.forEach((e=>{t[e.id]=e.value})),t}i.addEventListener("click",(function(){u(q,C,{name:a.textContent,about:s.textContent}),S(p)})),c.addEventListener("click",(function(){S(L)})),r.getUser().then((function(e){l(e),d(e)}));const f="Saving...";function _(e,t){const r=e.textContent;return function(o){e.textContent=o?t:r}}let h;function y(e){"Escape"===e.key&&b(h)}function v(e){e.currentTarget===e.target&&b(h)}function S(e){h=e,e.classList.add("modal_opened"),document.addEventListener("keydown",y)}function b(e){e.classList.remove("modal_opened"),document.removeEventListener("keydown",y)}Array.from(document.querySelectorAll(".modal")).forEach((e=>{e.addEventListener("click",v),e.querySelector(".modal__exit-btn").addEventListener("click",(()=>b(e)))}));const p=document.querySelector("#profile-modal"),q=document.forms["profile-form"],E=p.querySelector(".modal__button"),C=p.querySelectorAll(".modal__input"),k=_(E,f);q.addEventListener("submit",(function(e){e.preventDefault();const t=m(C);k(!0),r.editUserInfo(t).then((e=>{l(e),b(p)})).finally((()=>k(!1)))}));const L=document.querySelector("#avatar-modal"),g=document.forms["avatar-form"],U=L.querySelector(".modal__button"),A=L.querySelectorAll(".modal__input"),P=_(U,f);g.addEventListener("submit",(function(e){e.preventDefault();const t=m(A);P(!0),r.editUserAvatar(t).then((e=>{d(e),b(L),u(g,A)})).finally((()=>P(!1)))}));const $=document.querySelector("#post-modal"),x=document.forms["post-form"],T=$.querySelector(".modal__button"),D=$.querySelectorAll(".modal__input"),B=_(T,f);let I,N;x.addEventListener("submit",(function(e){e.preventDefault();const t=m(D);B(!0),r.postCard(t).then((e=>{K(e),b($),u(x,D)})).finally((()=>B(!1)))})),document.querySelector(".profile__post-btn").addEventListener("click",(()=>S($)));const O=document.querySelector("#delete-modal"),j=O.querySelector("#delete-btn"),w=O.querySelector("#cancel-btn"),J=_(j,"Deleting...");j.addEventListener("click",(function(){J(!0),r.removeCard(N).then((()=>{I.remove(),b(O)})).finally((()=>J(!1)))})),w.addEventListener("click",(()=>b(O)));const H=document.querySelector("#image-modal"),R=H.querySelector(".modal__image"),z=H.querySelectorAll(".modal__caption"),M="#card-template";function F(e,t){!0===t?e.classList.add("card__like-icon_selected"):e.classList.remove("card__like-icon_selected")}const G=document.querySelector(".card-container");function K(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"prepend";const o=function(e,t){const o=e.name,n=e.link,a=e._id;let s=e.isLiked;const i=document.querySelector(t).content.querySelector(".card").cloneNode(!0);i.querySelector(".card__text").textContent=o;const c=i.querySelector(".card__image");c.src=n,c.alt=o,c.addEventListener("click",(()=>{!function(e){R.src=e.link,R.alt=e.name,z.textContent=e.name}(e),S(H)}));const l=i.querySelector(".card__like-icon");return F(l,s),l.addEventListener("click",(()=>{s?(F(l,!1),r.dislikeCard(a).then((()=>{s=!1})).finally((()=>{F(l,s)}))):(F(l,!0),r.likeCard(a).then((()=>{s=!0})).finally((()=>{F(l,s)})))})),i.querySelector(".card__trash-icon").addEventListener("click",(()=>{I=i,N=a,S(O)})),i}(e,M);G[t](o)}r.getInitialCards().then((e=>e.forEach((e=>K(e)))));const Q={formSelector:".modal__form",inputSelector:".modal__input",submitButtonSelector:".modal__button",inactiveButtonClass:"modal__button_disabled",inputErrorClass:"modal__input_type_error",errorClass:"modal__error_visible"};var V;V=Q,Array.from(document.querySelectorAll(V.formSelector)).forEach((r=>{!function(r,o){const n=Array.from(r.querySelectorAll(o.inputSelector)),a=r.querySelector(o.submitButtonSelector);t(n,a),n.forEach((s=>{s.addEventListener("input",(()=>{e(r,s,o),t(n,a)}))}))}(r,V)}))}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFxQix5QkFDckJsSixnQkFBaUIsMEJBQ2pCRCxXQUFZLHdCRHBRUCxJQUEwQlQsSUN1UWhCcUYsRUR0UUROLE1BQU1DLEtBQUtkLFNBQVNlLGlCQUFpQmpGLEVBQU8ySixlQUNwRC9FLFNBQVM5RSxLQWhCakIsU0FBMkJBLEVBQU1FLEdBQy9CLE1BQU1pQixFQUFTOEQsTUFBTUMsS0FBS2xGLEVBQUttRixpQkFBaUJqRixFQUFPa0YsZ0JBQ2pEaEUsRUFBU3BCLEVBQUtNLGNBQWNKLEVBQU9tRixzQkFFekNuRSxFQUFrQkMsRUFBUUMsR0FFMUJELEVBQU8yRCxTQUFTN0UsSUFDZEEsRUFBTXdGLGlCQUFpQixTQUFTLEtBQzlCMUYsRUFBbUJDLEVBQU1DLEVBQU9DLEdBQ2hDZ0IsRUFBa0JDLEVBQVFDLEVBQU8sR0FDakMsR0FFTixDQUtJMkksQ0FBa0IvSixFQUFNRSxFQUFPLEciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zcG90cy1wcm9qZWN0Ly4vc3JjL3NjcmlwdHMvdmFsaWRhdGlvbi5qcyIsIndlYnBhY2s6Ly9zcG90cy1wcm9qZWN0Ly4vc3JjL3NjcmlwdHMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vc3BvdHMtcHJvamVjdC8uL3NyYy91dGlscy9BcGkuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gc2hvd0lucHV0RXJyb3IoZm9ybSwgaW5wdXQsIGVycm9yTWVzc2FnZSwgY29uZmlnKSB7XG4gIGNvbnN0IGVycm9yRWxlbWVudCA9IGZvcm0ucXVlcnlTZWxlY3RvcihgIyR7aW5wdXQuaWR9LWVycm9yYCk7XG5cbiAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gZXJyb3JNZXNzYWdlO1xuICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LmFkZChjb25maWcuZXJyb3JDbGFzcyk7XG5cbiAgaW5wdXQuY2xhc3NMaXN0LmFkZChjb25maWcuaW5wdXRFcnJvckNsYXNzKTtcbn1cblxuZnVuY3Rpb24gaGlkZUlucHV0RXJyb3IoZm9ybSwgaW5wdXQsIGNvbmZpZykge1xuICBjb25zdCBlcnJvckVsZW1lbnQgPSBmb3JtLnF1ZXJ5U2VsZWN0b3IoYCMke2lucHV0LmlkfS1lcnJvcmApO1xuXG4gIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IFwiXCI7XG4gIGVycm9yRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKGNvbmZpZy5lcnJvckNsYXNzKTtcblxuICBpbnB1dC5jbGFzc0xpc3QucmVtb3ZlKGNvbmZpZy5pbnB1dEVycm9yQ2xhc3MpO1xufVxuXG5mdW5jdGlvbiBjaGVja0lucHV0VmFsaWRpdHkoZm9ybSwgaW5wdXQsIGNvbmZpZykge1xuICBpZiAoaW5wdXQudmFsaWRpdHkudmFsaWQpIHtcbiAgICBoaWRlSW5wdXRFcnJvcihmb3JtLCBpbnB1dCwgY29uZmlnKTtcbiAgfSBlbHNlIHtcbiAgICBzaG93SW5wdXRFcnJvcihmb3JtLCBpbnB1dCwgaW5wdXQudmFsaWRhdGlvbk1lc3NhZ2UsIGNvbmZpZyk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNoZWNrRm9ybVZhbGlkaXR5KGZvcm0sIGNvbmZpZykge1xuICBjb25zdCBpbnB1dHMgPSBBcnJheS5mcm9tKGZvcm0ucXVlcnlTZWxlY3RvckFsbChjb25maWcuaW5wdXRTZWxlY3RvcikpO1xuICBjb25zdCBidXR0b24gPSBmb3JtLnF1ZXJ5U2VsZWN0b3IoY29uZmlnLnN1Ym1pdEJ1dHRvblNlbGVjdG9yKTtcblxuICB0b2dnbGVCdXR0b25TdGF0ZShpbnB1dHMsIGJ1dHRvbik7XG5cbiAgaW5wdXRzLmZvckVhY2goKGlucHV0KSA9PiB7XG4gICAgY2hlY2tJbnB1dFZhbGlkaXR5KGZvcm0sIGlucHV0LCBjb25maWcpO1xuICAgIHRvZ2dsZUJ1dHRvblN0YXRlKGlucHV0cywgYnV0dG9uKTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHRvZ2dsZUJ1dHRvblN0YXRlKGlucHV0cywgYnV0dG9uKSB7XG4gIGNvbnN0IG5vdFZhbGlkID0gaW5wdXRzLnNvbWUoKGlucHV0KSA9PiB7XG4gICAgcmV0dXJuICFpbnB1dC52YWxpZGl0eS52YWxpZDtcbiAgfSk7XG5cbiAgaWYgKG5vdFZhbGlkKSB7XG4gICAgZGlzYWJsZUJ1dHRvbihidXR0b24pO1xuICB9IGVsc2Uge1xuICAgIGVuYWJsZUJ1dHRvbihidXR0b24pO1xuICB9XG59XG5cbmZ1bmN0aW9uIGVuYWJsZUJ1dHRvbihidXR0b24pIHtcbiAgYnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIGRpc2FibGVCdXR0b24oYnV0dG9uKSB7XG4gIGJ1dHRvbi5kaXNhYmxlZCA9IHRydWU7XG59XG5cbmZ1bmN0aW9uIHNldEV2ZW50TGlzdGVuZXJzKGZvcm0sIGNvbmZpZykge1xuICBjb25zdCBpbnB1dHMgPSBBcnJheS5mcm9tKGZvcm0ucXVlcnlTZWxlY3RvckFsbChjb25maWcuaW5wdXRTZWxlY3RvcikpO1xuICBjb25zdCBidXR0b24gPSBmb3JtLnF1ZXJ5U2VsZWN0b3IoY29uZmlnLnN1Ym1pdEJ1dHRvblNlbGVjdG9yKTtcblxuICB0b2dnbGVCdXR0b25TdGF0ZShpbnB1dHMsIGJ1dHRvbik7XG5cbiAgaW5wdXRzLmZvckVhY2goKGlucHV0KSA9PiB7XG4gICAgaW5wdXQuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsICgpID0+IHtcbiAgICAgIGNoZWNrSW5wdXRWYWxpZGl0eShmb3JtLCBpbnB1dCwgY29uZmlnKTtcbiAgICAgIHRvZ2dsZUJ1dHRvblN0YXRlKGlucHV0cywgYnV0dG9uKTtcbiAgICB9KTtcbiAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBlbmFibGVWYWxpZGF0aW9uKGNvbmZpZykge1xuICBjb25zdCBmb3JtcyA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChjb25maWcuZm9ybVNlbGVjdG9yKSk7XG4gIGZvcm1zLmZvckVhY2goKGZvcm0pID0+IHtcbiAgICBzZXRFdmVudExpc3RlbmVycyhmb3JtLCBjb25maWcpO1xuICB9KTtcbn1cbiIsImltcG9ydCBcIi4uL3BhZ2VzL2luZGV4LmNzc1wiO1xuaW1wb3J0IEFwaSBmcm9tIFwiLi4vdXRpbHMvQXBpLmpzXCI7XG5pbXBvcnQge1xuICBjaGVja0Zvcm1WYWxpZGl0eSxcbiAgZW5hYmxlVmFsaWRhdGlvbixcbiAgZGlzYWJsZUJ1dHRvbixcbn0gZnJvbSBcIi4vdmFsaWRhdGlvbi5qc1wiO1xuXG4vLyBBcGlcbmNvbnN0IGFwaSA9IG5ldyBBcGkoe1xuICBiYXNlVXJsOiBcImh0dHBzOi8vYXJvdW5kLWFwaS5lbi50cmlwbGV0ZW4tc2VydmljZXMuY29tL3YxXCIsXG4gIGhlYWRlcnM6IHtcbiAgICBhdXRob3JpemF0aW9uOiBcIjZhNDliYzczLTRjYmYtNDFiNy1iZDNmLTljNDdiMTkxOTg2OVwiLFxuICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICB9LFxufSk7XG5cbi8vIFByb2ZpbGVcbmNvbnN0IHByb2ZpbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVcIik7XG5jb25zdCBhdmF0YXIgPSBwcm9maWxlLnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fYXZhdGFyXCIpO1xuY29uc3QgbmFtZSA9IHByb2ZpbGUucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19uYW1lXCIpO1xuY29uc3QgYWJvdXQgPSBwcm9maWxlLnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fYWJvdXRcIik7XG5jb25zdCBlZGl0QnRuID0gcHJvZmlsZS5xdWVyeVNlbGVjdG9yKFwiI3Byb2ZpbGUtYnRuXCIpO1xuY29uc3QgYXZhdGFyQnRuID0gcHJvZmlsZS5xdWVyeVNlbGVjdG9yKFwiI2F2YXRhci1idG5cIik7XG5cbmZ1bmN0aW9uIHNldERhdGEoZGF0YSkge1xuICBzZXRJbmZvKGRhdGEpO1xuICBzZXRBdmF0YXIoZGF0YSk7XG59XG5cbmZ1bmN0aW9uIHNldEluZm8oZGF0YSkge1xuICBuYW1lLnRleHRDb250ZW50ID0gZGF0YS5uYW1lO1xuICBhYm91dC50ZXh0Q29udGVudCA9IGRhdGEuYWJvdXQ7XG59XG5cbmZ1bmN0aW9uIHNldEF2YXRhcihkYXRhKSB7XG4gIGF2YXRhci5zcmMgPSBkYXRhLmF2YXRhcjtcbn1cblxuZnVuY3Rpb24gb25JbmZvRWRpdCgpIHtcbiAgc2V0SW5wdXRWYWx1ZXMocHJvZmlsZUZvcm0sIHByb2ZpbGVJbnB1dExpc3QsIHtcbiAgICBuYW1lOiBuYW1lLnRleHRDb250ZW50LFxuICAgIGFib3V0OiBhYm91dC50ZXh0Q29udGVudCxcbiAgfSk7XG4gIG9wZW5Nb2RhbChwcm9maWxlTW9kYWwpO1xufVxuXG5mdW5jdGlvbiBvbkF2YXRhckVkaXQoKSB7XG4gIG9wZW5Nb2RhbChhdmF0YXJNb2RhbCk7XG59XG5cbmVkaXRCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIG9uSW5mb0VkaXQpO1xuYXZhdGFyQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBvbkF2YXRhckVkaXQpO1xuXG5hcGkuZ2V0VXNlcigpLnRoZW4oc2V0RGF0YSk7XG5cbi8vIEZvcm1cbmZ1bmN0aW9uIHNldElucHV0VmFsdWVzKGZvcm0sIGlucHV0TGlzdCwgaW5wdXRWYWx1ZXMpIHtcbiAgaWYgKGlucHV0VmFsdWVzKSB7XG4gICAgaW5wdXRMaXN0LmZvckVhY2goKGlucHV0KSA9PiB7XG4gICAgICBpZiAoaW5wdXRWYWx1ZXNbaW5wdXQuaWRdKSB7XG4gICAgICAgIGlucHV0LnZhbHVlID0gaW5wdXRWYWx1ZXNbaW5wdXQuaWRdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaW5wdXQucmVzZXQoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBmb3JtLnJlc2V0KCk7XG4gIH1cblxuICBjaGVja0Zvcm1WYWxpZGl0eShmb3JtLCBzZXR0aW5ncyk7XG59XG5cbmZ1bmN0aW9uIGdldElucHV0VmFsdWVzKGlucHV0TGlzdCkge1xuICBjb25zdCBpbnB1dFZhbHVlcyA9IHt9O1xuICBpbnB1dExpc3QuZm9yRWFjaCgoaW5wdXQpID0+IHtcbiAgICBpbnB1dFZhbHVlc1tpbnB1dC5pZF0gPSBpbnB1dC52YWx1ZTtcbiAgfSk7XG5cbiAgcmV0dXJuIGlucHV0VmFsdWVzO1xufVxuXG5jb25zdCBzYXZpbmdUZXh0ID0gXCJTYXZpbmcuLi5cIjtcbmNvbnN0IGRlbGV0aW5nVGV4dCA9IFwiRGVsZXRpbmcuLi5cIjtcbmZ1bmN0aW9uIHNldExvYWRpbmdUZXh0KGJ1dHRvbiwgdGV4dCkge1xuICBjb25zdCBvbGRUZXh0ID0gYnV0dG9uLnRleHRDb250ZW50O1xuICByZXR1cm4gZnVuY3Rpb24gKGlzU3VibWl0aW5nKSB7XG4gICAgaWYgKGlzU3VibWl0aW5nKSB7XG4gICAgICBidXR0b24udGV4dENvbnRlbnQgPSB0ZXh0O1xuICAgIH0gZWxzZSB7XG4gICAgICBidXR0b24udGV4dENvbnRlbnQgPSBvbGRUZXh0O1xuICAgIH1cbiAgfTtcbn1cblxuLy8gTW9kYWxcbmxldCBjdXJyZW50TW9kYWw7XG5cbmZ1bmN0aW9uIGVzY2FwZUhhbmRsZXIoZXZ0KSB7XG4gIGlmIChldnQua2V5ID09PSBcIkVzY2FwZVwiKSB7XG4gICAgY2xvc2VNb2RhbChjdXJyZW50TW9kYWwpO1xuICB9XG59XG5cbmZ1bmN0aW9uIG91dHNpZGVDbGlja0hhbmRsZXIoZXZ0KSB7XG4gIGlmIChldnQuY3VycmVudFRhcmdldCA9PT0gZXZ0LnRhcmdldCkge1xuICAgIGNsb3NlTW9kYWwoY3VycmVudE1vZGFsKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBvcGVuTW9kYWwobW9kYWwpIHtcbiAgY3VycmVudE1vZGFsID0gbW9kYWw7XG4gIG1vZGFsLmNsYXNzTGlzdC5hZGQoXCJtb2RhbF9vcGVuZWRcIik7XG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIGVzY2FwZUhhbmRsZXIpO1xufVxuXG5mdW5jdGlvbiBjbG9zZU1vZGFsKG1vZGFsKSB7XG4gIG1vZGFsLmNsYXNzTGlzdC5yZW1vdmUoXCJtb2RhbF9vcGVuZWRcIik7XG4gIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIGVzY2FwZUhhbmRsZXIpO1xufVxuXG5jb25zdCBtb2RhbHMgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIubW9kYWxcIikpO1xubW9kYWxzLmZvckVhY2goKG1vZGFsKSA9PiB7XG4gIG1vZGFsLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBvdXRzaWRlQ2xpY2tIYW5kbGVyKTtcblxuICBjb25zdCBleGl0QnRuID0gbW9kYWwucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fZXhpdC1idG5cIik7XG4gIGV4aXRCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IGNsb3NlTW9kYWwobW9kYWwpKTtcbn0pO1xuXG4vLyBQcm9maWxlIE1vZGFsXG5jb25zdCBwcm9maWxlTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Byb2ZpbGUtbW9kYWxcIik7XG5jb25zdCBwcm9maWxlRm9ybSA9IGRvY3VtZW50LmZvcm1zW1wicHJvZmlsZS1mb3JtXCJdO1xuY29uc3QgcHJvZmlsZVN1Ym1pdEJ0biA9IHByb2ZpbGVNb2RhbC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19idXR0b25cIik7XG5jb25zdCBwcm9maWxlSW5wdXRMaXN0ID0gcHJvZmlsZU1vZGFsLnF1ZXJ5U2VsZWN0b3JBbGwoXCIubW9kYWxfX2lucHV0XCIpO1xuXG5jb25zdCBzZXRQcm9maWxlTG9hZGluZyA9IHNldExvYWRpbmdUZXh0KHByb2ZpbGVTdWJtaXRCdG4sIHNhdmluZ1RleHQpO1xuXG5mdW5jdGlvbiBvblByb2ZpbGVGb3JtU3VibWl0KGV2dCkge1xuICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgY29uc3QgaW5wdXRWYWx1ZXMgPSBnZXRJbnB1dFZhbHVlcyhwcm9maWxlSW5wdXRMaXN0KTtcbiAgc2V0UHJvZmlsZUxvYWRpbmcodHJ1ZSk7XG4gIGFwaVxuICAgIC5lZGl0VXNlckluZm8oaW5wdXRWYWx1ZXMpXG4gICAgLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgIHNldEluZm8oZGF0YSk7XG4gICAgICBjbG9zZU1vZGFsKHByb2ZpbGVNb2RhbCk7XG4gICAgfSlcbiAgICAuZmluYWxseSgoKSA9PiBzZXRQcm9maWxlTG9hZGluZyhmYWxzZSkpO1xufVxuXG5wcm9maWxlRm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIG9uUHJvZmlsZUZvcm1TdWJtaXQpO1xuXG4vLyBBdmF0YXIgTW9kYWxcbmNvbnN0IGF2YXRhck1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNhdmF0YXItbW9kYWxcIik7XG5jb25zdCBhdmF0YXJGb3JtID0gZG9jdW1lbnQuZm9ybXNbXCJhdmF0YXItZm9ybVwiXTtcbmNvbnN0IGF2YXRhclN1Ym1pdEJ0biA9IGF2YXRhck1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2J1dHRvblwiKTtcbmNvbnN0IGF2YXRhcklucHV0TGlzdCA9IGF2YXRhck1vZGFsLnF1ZXJ5U2VsZWN0b3JBbGwoXCIubW9kYWxfX2lucHV0XCIpO1xuXG5jb25zdCBzZXRBdmF0YXJMb2FkaW5nID0gc2V0TG9hZGluZ1RleHQoYXZhdGFyU3VibWl0QnRuLCBzYXZpbmdUZXh0KTtcblxuZnVuY3Rpb24gb25BdmF0YXJGb3JtU3VibWl0KGV2dCkge1xuICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgY29uc3QgaW5wdXRWYWx1ZXMgPSBnZXRJbnB1dFZhbHVlcyhhdmF0YXJJbnB1dExpc3QpO1xuICBzZXRBdmF0YXJMb2FkaW5nKHRydWUpO1xuICBhcGlcbiAgICAuZWRpdFVzZXJBdmF0YXIoaW5wdXRWYWx1ZXMpXG4gICAgLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgIHNldEF2YXRhcihkYXRhKTtcbiAgICAgIGNsb3NlTW9kYWwoYXZhdGFyTW9kYWwpO1xuICAgICAgc2V0SW5wdXRWYWx1ZXMoYXZhdGFyRm9ybSwgYXZhdGFySW5wdXRMaXN0KTtcbiAgICB9KVxuICAgIC5maW5hbGx5KCgpID0+IHNldEF2YXRhckxvYWRpbmcoZmFsc2UpKTtcbn1cblxuYXZhdGFyRm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIG9uQXZhdGFyRm9ybVN1Ym1pdCk7XG5cbi8vIFBvc3QgTW9kYWxcbmNvbnN0IHBvc3RNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcG9zdC1tb2RhbFwiKTtcbmNvbnN0IHBvc3RGb3JtID0gZG9jdW1lbnQuZm9ybXNbXCJwb3N0LWZvcm1cIl07XG5jb25zdCBwb3N0U3VibWl0QnRuID0gcG9zdE1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2J1dHRvblwiKTtcbmNvbnN0IHBvc3RJbnB1dExpc3QgPSBwb3N0TW9kYWwucXVlcnlTZWxlY3RvckFsbChcIi5tb2RhbF9faW5wdXRcIik7XG5cbmNvbnN0IHNldFBvc3RMb2FkaW5nID0gc2V0TG9hZGluZ1RleHQocG9zdFN1Ym1pdEJ0biwgc2F2aW5nVGV4dCk7XG5cbmZ1bmN0aW9uIG9uUG9zdEZvcm1TdWJtaXQoZXZ0KSB7XG4gIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICBjb25zdCBpbnB1dFZhbHVlcyA9IGdldElucHV0VmFsdWVzKHBvc3RJbnB1dExpc3QpO1xuICBzZXRQb3N0TG9hZGluZyh0cnVlKTtcbiAgYXBpXG4gICAgLnBvc3RDYXJkKGlucHV0VmFsdWVzKVxuICAgIC50aGVuKChkYXRhKSA9PiB7XG4gICAgICByZW5kZXJDYXJkKGRhdGEpO1xuICAgICAgY2xvc2VNb2RhbChwb3N0TW9kYWwpO1xuICAgICAgc2V0SW5wdXRWYWx1ZXMocG9zdEZvcm0sIHBvc3RJbnB1dExpc3QpO1xuICAgIH0pXG4gICAgLmZpbmFsbHkoKCkgPT4gc2V0UG9zdExvYWRpbmcoZmFsc2UpKTtcbn1cblxucG9zdEZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCBvblBvc3RGb3JtU3VibWl0KTtcblxuY29uc3QgcG9zdEFkZEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fcG9zdC1idG5cIik7XG5wb3N0QWRkQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiBvcGVuTW9kYWwocG9zdE1vZGFsKSk7XG5cbi8vIERlbGV0ZSBNb2RhbFxubGV0IGN1cnJlbnRDYXJkO1xubGV0IGN1cnJlbnRDYXJkSWQ7XG5cbmNvbnN0IGRlbGV0ZU1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNkZWxldGUtbW9kYWxcIik7XG5jb25zdCBkZWxldGVCdG4gPSBkZWxldGVNb2RhbC5xdWVyeVNlbGVjdG9yKGAjZGVsZXRlLWJ0bmApO1xuY29uc3QgY2FuY2VsQnRuID0gZGVsZXRlTW9kYWwucXVlcnlTZWxlY3RvcihgI2NhbmNlbC1idG5gKTtcblxuY29uc3Qgc2V0RGVsZXRlTG9hZGluZyA9IHNldExvYWRpbmdUZXh0KGRlbGV0ZUJ0biwgZGVsZXRpbmdUZXh0KTtcblxuZnVuY3Rpb24gb25EZWxldGVDYXJkKCkge1xuICBzZXREZWxldGVMb2FkaW5nKHRydWUpO1xuICBhcGlcbiAgICAucmVtb3ZlQ2FyZChjdXJyZW50Q2FyZElkKVxuICAgIC50aGVuKCgpID0+IHtcbiAgICAgIGN1cnJlbnRDYXJkLnJlbW92ZSgpO1xuICAgICAgY2xvc2VNb2RhbChkZWxldGVNb2RhbCk7XG4gICAgfSlcbiAgICAuZmluYWxseSgoKSA9PiBzZXREZWxldGVMb2FkaW5nKGZhbHNlKSk7XG59XG5cbmRlbGV0ZUJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgb25EZWxldGVDYXJkKTtcbmNhbmNlbEJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4gY2xvc2VNb2RhbChkZWxldGVNb2RhbCkpO1xuXG4vLyBJbWFnZSBNb2RhbFxuY29uc3QgaW1hZ2VNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjaW1hZ2UtbW9kYWxcIik7XG5jb25zdCBpbWFnZSA9IGltYWdlTW9kYWwucXVlcnlTZWxlY3RvcihgLm1vZGFsX19pbWFnZWApO1xuY29uc3QgY2FwdGlvbiA9IGltYWdlTW9kYWwucXVlcnlTZWxlY3RvckFsbChgLm1vZGFsX19jYXB0aW9uYCk7XG5cbmZ1bmN0aW9uIGxvYWRNb2RhbEltYWdlKGRhdGEpIHtcbiAgaW1hZ2Uuc3JjID0gZGF0YS5saW5rO1xuICBpbWFnZS5hbHQgPSBkYXRhLm5hbWU7XG4gIGNhcHRpb24udGV4dENvbnRlbnQgPSBkYXRhLm5hbWU7XG59XG5cbi8vIENhcmRcbmNvbnN0IGNhcmRUZW1wbGF0ZSA9IFwiI2NhcmQtdGVtcGxhdGVcIjtcblxuZnVuY3Rpb24gZ2V0Q2FyZFRlbXBsYXRlKHRlbXBsYXRlKSB7XG4gIHJldHVybiB0ZW1wbGF0ZS5jb250ZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZFwiKS5jbG9uZU5vZGUodHJ1ZSk7XG59XG5cbmZ1bmN0aW9uIGVuYWJsZUNhcmRMaWtlKGxpa2VCdG4sIGlzTGlrZWQpIHtcbiAgaWYgKGlzTGlrZWQgPT09IHRydWUpIHtcbiAgICBsaWtlQnRuLmNsYXNzTGlzdC5hZGQoXCJjYXJkX19saWtlLWljb25fc2VsZWN0ZWRcIik7XG4gIH0gZWxzZSB7XG4gICAgbGlrZUJ0bi5jbGFzc0xpc3QucmVtb3ZlKFwiY2FyZF9fbGlrZS1pY29uX3NlbGVjdGVkXCIpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUNhcmQoZGF0YSwgc2VsZWN0b3IpIHtcbiAgY29uc3QgY2FyZE5hbWUgPSBkYXRhLm5hbWU7XG4gIGNvbnN0IGNhcmRMaW5rID0gZGF0YS5saW5rO1xuICBjb25zdCBjYXJkSWQgPSBkYXRhLl9pZDtcbiAgbGV0IGlzTGlrZWQgPSBkYXRhLmlzTGlrZWQ7XG5cbiAgY29uc3QgdGVtcGxhdGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yKTtcbiAgY29uc3QgZWxlbWVudCA9IGdldENhcmRUZW1wbGF0ZSh0ZW1wbGF0ZSk7XG5cbiAgY29uc3QgY2FyZFRleHQgPSBlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fdGV4dFwiKTtcbiAgY2FyZFRleHQudGV4dENvbnRlbnQgPSBjYXJkTmFtZTtcblxuICBjb25zdCBjYXJkSW1hZ2UgPSBlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9faW1hZ2VcIik7XG4gIGNhcmRJbWFnZS5zcmMgPSBjYXJkTGluaztcbiAgY2FyZEltYWdlLmFsdCA9IGNhcmROYW1lO1xuXG4gIGNhcmRJbWFnZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgIGxvYWRNb2RhbEltYWdlKGRhdGEpO1xuICAgIG9wZW5Nb2RhbChpbWFnZU1vZGFsKTtcbiAgfSk7XG5cbiAgY29uc3QgbGlrZUJ0biA9IGVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19saWtlLWljb25cIik7XG4gIGVuYWJsZUNhcmRMaWtlKGxpa2VCdG4sIGlzTGlrZWQpO1xuXG4gIGxpa2VCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICAvLyBXaWxsIHJldmVydCB0aGUgbGlrZXMgYXBwZXJhbmNlIGlmIGl0IHdhc24ndCBhYmxlIHRvIHNlbmQgdG8gdGhlIHNlcnZlclxuICAgIGlmIChpc0xpa2VkKSB7XG4gICAgICBlbmFibGVDYXJkTGlrZShsaWtlQnRuLCBmYWxzZSk7XG4gICAgICBhcGlcbiAgICAgICAgLmRpc2xpa2VDYXJkKGNhcmRJZClcbiAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgIGlzTGlrZWQgPSBmYWxzZTtcbiAgICAgICAgfSlcbiAgICAgICAgLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgICAgIGVuYWJsZUNhcmRMaWtlKGxpa2VCdG4sIGlzTGlrZWQpO1xuICAgICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgZW5hYmxlQ2FyZExpa2UobGlrZUJ0biwgdHJ1ZSk7XG4gICAgICBhcGlcbiAgICAgICAgLmxpa2VDYXJkKGNhcmRJZClcbiAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgIGlzTGlrZWQgPSB0cnVlO1xuICAgICAgICB9KVxuICAgICAgICAuZmluYWxseSgoKSA9PiB7XG4gICAgICAgICAgZW5hYmxlQ2FyZExpa2UobGlrZUJ0biwgaXNMaWtlZCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG5cbiAgY29uc3QgdHJhc2hCdG4gPSBlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fdHJhc2gtaWNvblwiKTtcblxuICB0cmFzaEJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgIGN1cnJlbnRDYXJkID0gZWxlbWVudDtcbiAgICBjdXJyZW50Q2FyZElkID0gY2FyZElkO1xuICAgIG9wZW5Nb2RhbChkZWxldGVNb2RhbCk7XG4gIH0pO1xuXG4gIHJldHVybiBlbGVtZW50O1xufVxuXG4vLyBDYXJkIENvbnRhaW5lclxuY29uc3QgY2FyZENvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZC1jb250YWluZXJcIik7XG5cbmZ1bmN0aW9uIHJlbmRlckNhcmQoZGF0YSwgbWV0aG9kID0gXCJwcmVwZW5kXCIpIHtcbiAgY29uc3QgY2FyZEVsZW1lbnQgPSBjcmVhdGVDYXJkKGRhdGEsIGNhcmRUZW1wbGF0ZSk7XG4gIGNhcmRDb250YWluZXJbbWV0aG9kXShjYXJkRWxlbWVudCk7XG59XG5cbmFwaVxuICAuZ2V0SW5pdGlhbENhcmRzKClcbiAgLnRoZW4oKGNhcmRzKSA9PiBjYXJkcy5mb3JFYWNoKChjYXJkKSA9PiByZW5kZXJDYXJkKGNhcmQpKSk7XG5cbi8vIFZhbGlkYXRpb25cbmNvbnN0IHNldHRpbmdzID0ge1xuICBmb3JtU2VsZWN0b3I6IFwiLm1vZGFsX19mb3JtXCIsXG4gIGlucHV0U2VsZWN0b3I6IFwiLm1vZGFsX19pbnB1dFwiLFxuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogXCIubW9kYWxfX2J1dHRvblwiLFxuICBpbmFjdGl2ZUJ1dHRvbkNsYXNzOiBcIm1vZGFsX19idXR0b25fZGlzYWJsZWRcIixcbiAgaW5wdXRFcnJvckNsYXNzOiBcIm1vZGFsX19pbnB1dF90eXBlX2Vycm9yXCIsXG4gIGVycm9yQ2xhc3M6IFwibW9kYWxfX2Vycm9yX3Zpc2libGVcIixcbn07XG5cbmVuYWJsZVZhbGlkYXRpb24oc2V0dGluZ3MpO1xuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgQXBpIHtcbiAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgIHRoaXMuX2Jhc2VVcmwgPSBvcHRpb25zLmJhc2VVcmw7XG4gICAgdGhpcy5faGVhZGVycyA9IG9wdGlvbnMuaGVhZGVycztcbiAgfVxuXG4gIF9kZWZhdWx0UHJvbWlzZShwcm9taXNlKSB7XG4gICAgcmV0dXJuIHByb21pc2UudGhlbih0aGlzLl9nZXRSZXN1bHQpLmNhdGNoKGNvbnNvbGUuZXJyb3IpO1xuICB9XG5cbiAgX2dldFJlc3VsdChyZXMpIHtcbiAgICBpZiAocmVzLm9rKSB7XG4gICAgICByZXR1cm4gcmVzLmpzb24oKTtcbiAgICB9XG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGBFcnJvcjogJHtyZXMuc3RhdHVzfWApO1xuICB9XG5cbiAgZ2V0SW5pdGlhbENhcmRzKCkge1xuICAgIHJldHVybiB0aGlzLl9kZWZhdWx0UHJvbWlzZShcbiAgICAgIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzYCwgeyBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzIH0pXG4gICAgKTtcbiAgfVxuXG4gIGdldFVzZXIoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2RlZmF1bHRQcm9taXNlKFxuICAgICAgZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWVgLCB7IGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMgfSlcbiAgICApO1xuICB9XG5cbiAgZWRpdFVzZXJJbmZvKHsgbmFtZSwgYWJvdXQgfSkge1xuICAgIHJldHVybiB0aGlzLl9kZWZhdWx0UHJvbWlzZShcbiAgICAgIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lYCwge1xuICAgICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcbiAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgYWJvdXQsXG4gICAgICAgIH0pLFxuICAgICAgfSlcbiAgICApO1xuICB9XG5cbiAgZWRpdFVzZXJBdmF0YXIoeyBhdmF0YXIgfSkge1xuICAgIHJldHVybiB0aGlzLl9kZWZhdWx0UHJvbWlzZShcbiAgICAgIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lL2F2YXRhcmAsIHtcbiAgICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXG4gICAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICBhdmF0YXIsXG4gICAgICAgIH0pLFxuICAgICAgfSlcbiAgICApO1xuICB9XG5cbiAgcG9zdENhcmQoeyBuYW1lLCBsaW5rIH0pIHtcbiAgICByZXR1cm4gdGhpcy5fZGVmYXVsdFByb21pc2UoXG4gICAgICBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkc2AsIHtcbiAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgbGluayxcbiAgICAgICAgfSksXG4gICAgICB9KVxuICAgICk7XG4gIH1cblxuICByZW1vdmVDYXJkKGlkKSB7XG4gICAgcmV0dXJuIHRoaXMuX2RlZmF1bHRQcm9taXNlKFxuICAgICAgZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvJHtpZH1gLCB7XG4gICAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcbiAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgIH0pXG4gICAgKTtcbiAgfVxuXG4gIGxpa2VDYXJkKGlkKSB7XG4gICAgcmV0dXJuIHRoaXMuX2RlZmF1bHRQcm9taXNlKFxuICAgICAgZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvJHtpZH0vbGlrZXNgLCB7XG4gICAgICAgIG1ldGhvZDogXCJQVVRcIixcbiAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgIH0pXG4gICAgKTtcbiAgfVxuXG4gIGRpc2xpa2VDYXJkKGlkKSB7XG4gICAgcmV0dXJuIHRoaXMuX2RlZmF1bHRQcm9taXNlKFxuICAgICAgZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvJHtpZH0vbGlrZXNgLCB7XG4gICAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcbiAgICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgIH0pXG4gICAgKTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbImNoZWNrSW5wdXRWYWxpZGl0eSIsImZvcm0iLCJpbnB1dCIsImNvbmZpZyIsInZhbGlkaXR5IiwidmFsaWQiLCJlcnJvckVsZW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiaWQiLCJ0ZXh0Q29udGVudCIsImNsYXNzTGlzdCIsInJlbW92ZSIsImVycm9yQ2xhc3MiLCJpbnB1dEVycm9yQ2xhc3MiLCJoaWRlSW5wdXRFcnJvciIsImVycm9yTWVzc2FnZSIsImFkZCIsInNob3dJbnB1dEVycm9yIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJ0b2dnbGVCdXR0b25TdGF0ZSIsImlucHV0cyIsImJ1dHRvbiIsInNvbWUiLCJkaXNhYmxlZCIsImRpc2FibGVCdXR0b24iLCJlbmFibGVCdXR0b24iLCJhcGkiLCJjb25zdHJ1Y3RvciIsIm9wdGlvbnMiLCJ0aGlzIiwiX2Jhc2VVcmwiLCJiYXNlVXJsIiwiX2hlYWRlcnMiLCJoZWFkZXJzIiwiX2RlZmF1bHRQcm9taXNlIiwicHJvbWlzZSIsInRoZW4iLCJfZ2V0UmVzdWx0IiwiY2F0Y2giLCJjb25zb2xlIiwiZXJyb3IiLCJyZXMiLCJvayIsImpzb24iLCJQcm9taXNlIiwicmVqZWN0Iiwic3RhdHVzIiwiZ2V0SW5pdGlhbENhcmRzIiwiZmV0Y2giLCJnZXRVc2VyIiwiZWRpdFVzZXJJbmZvIiwiX3JlZiIsIm5hbWUiLCJhYm91dCIsIm1ldGhvZCIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiZWRpdFVzZXJBdmF0YXIiLCJfcmVmMiIsImF2YXRhciIsInBvc3RDYXJkIiwiX3JlZjMiLCJsaW5rIiwicmVtb3ZlQ2FyZCIsImxpa2VDYXJkIiwiZGlzbGlrZUNhcmQiLCJhdXRob3JpemF0aW9uIiwicHJvZmlsZSIsImRvY3VtZW50IiwiZWRpdEJ0biIsImF2YXRhckJ0biIsInNldEluZm8iLCJkYXRhIiwic2V0QXZhdGFyIiwic3JjIiwic2V0SW5wdXRWYWx1ZXMiLCJpbnB1dExpc3QiLCJpbnB1dFZhbHVlcyIsImZvckVhY2giLCJ2YWx1ZSIsInJlc2V0IiwiQXJyYXkiLCJmcm9tIiwicXVlcnlTZWxlY3RvckFsbCIsImlucHV0U2VsZWN0b3IiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsImNoZWNrRm9ybVZhbGlkaXR5Iiwic2V0dGluZ3MiLCJnZXRJbnB1dFZhbHVlcyIsImFkZEV2ZW50TGlzdGVuZXIiLCJwcm9maWxlRm9ybSIsInByb2ZpbGVJbnB1dExpc3QiLCJvcGVuTW9kYWwiLCJwcm9maWxlTW9kYWwiLCJhdmF0YXJNb2RhbCIsInNhdmluZ1RleHQiLCJzZXRMb2FkaW5nVGV4dCIsInRleHQiLCJvbGRUZXh0IiwiaXNTdWJtaXRpbmciLCJjdXJyZW50TW9kYWwiLCJlc2NhcGVIYW5kbGVyIiwiZXZ0Iiwia2V5IiwiY2xvc2VNb2RhbCIsIm91dHNpZGVDbGlja0hhbmRsZXIiLCJjdXJyZW50VGFyZ2V0IiwidGFyZ2V0IiwibW9kYWwiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZm9ybXMiLCJwcm9maWxlU3VibWl0QnRuIiwic2V0UHJvZmlsZUxvYWRpbmciLCJwcmV2ZW50RGVmYXVsdCIsImZpbmFsbHkiLCJhdmF0YXJGb3JtIiwiYXZhdGFyU3VibWl0QnRuIiwiYXZhdGFySW5wdXRMaXN0Iiwic2V0QXZhdGFyTG9hZGluZyIsInBvc3RNb2RhbCIsInBvc3RGb3JtIiwicG9zdFN1Ym1pdEJ0biIsInBvc3RJbnB1dExpc3QiLCJzZXRQb3N0TG9hZGluZyIsImN1cnJlbnRDYXJkIiwiY3VycmVudENhcmRJZCIsInJlbmRlckNhcmQiLCJkZWxldGVNb2RhbCIsImRlbGV0ZUJ0biIsImNhbmNlbEJ0biIsInNldERlbGV0ZUxvYWRpbmciLCJpbWFnZU1vZGFsIiwiaW1hZ2UiLCJjYXB0aW9uIiwiY2FyZFRlbXBsYXRlIiwiZW5hYmxlQ2FyZExpa2UiLCJsaWtlQnRuIiwiaXNMaWtlZCIsImNhcmRDb250YWluZXIiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJ1bmRlZmluZWQiLCJjYXJkRWxlbWVudCIsInNlbGVjdG9yIiwiY2FyZE5hbWUiLCJjYXJkTGluayIsImNhcmRJZCIsIl9pZCIsImVsZW1lbnQiLCJjb250ZW50IiwiY2xvbmVOb2RlIiwiY2FyZEltYWdlIiwiYWx0IiwibG9hZE1vZGFsSW1hZ2UiLCJjcmVhdGVDYXJkIiwiY2FyZHMiLCJjYXJkIiwiZm9ybVNlbGVjdG9yIiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsInNldEV2ZW50TGlzdGVuZXJzIl0sInNvdXJjZVJvb3QiOiIifQ==