!function(){"use strict";function e(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Save",n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"Saving...";e.textContent=t?n:r}function t(t,r){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Saving...";r.preventDefault();const o=r.submitter,s=o.textContent;e(o,!0,s,n),t().then((()=>r.target.reset())).catch(console.error).finally((()=>e(o,!1,s)))}function r(e,t,r){const n=e.querySelector(`#${t.id}-error`);n.textContent="",n.classList.remove(r.errorClass),t.classList.remove(r.inputErrorClass)}function n(e,t){0!==e.length&&(e.some((e=>!e.validity.valid))?o(t):function(e){e.disabled=!1}(t))}function o(e){e.disabled=!0}const s=new class{constructor(e){this._baseUrl=e.baseUrl,this._headers=e.headers}_getResult(e){return e.ok?e.json():Promise.reject(`Error: ${e.status}`)}getInitialCards(){return fetch(`${this._baseUrl}/cards`,{headers:this._headers}).then(this._getResult)}getUser(){return fetch(`${this._baseUrl}/users/me`,{headers:this._headers}).then(this._getResult)}editUserInfo(e){let{name:t,about:r}=e;return fetch(`${this._baseUrl}/users/me`,{method:"PATCH",headers:this._headers,body:JSON.stringify({name:t,about:r})}).then(this._getResult)}editUserAvatar(e){let{avatar:t}=e;return fetch(`${this._baseUrl}/users/me/avatar`,{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:t})}).then(this._getResult)}postCard(e){let{name:t,link:r}=e;return fetch(`${this._baseUrl}/cards`,{method:"POST",headers:this._headers,body:JSON.stringify({name:t,link:r})}).then(this._getResult)}removeCard(e){return fetch(`${this._baseUrl}/cards/${e}`,{method:"DELETE",headers:this._headers}).then(this._getResult)}likeCard(e){return fetch(`${this._baseUrl}/cards/${e}/likes`,{method:"PUT",headers:this._headers}).then(this._getResult)}dislikeCard(e){return fetch(`${this._baseUrl}/cards/${e}/likes`,{method:"DELETE",headers:this._headers}).then(this._getResult)}}({baseUrl:"https://around-api.en.tripleten-services.com/v1",headers:{authorization:"6a49bc73-4cbf-41b7-bd3f-9c47b1919869","Content-Type":"application/json"}}),a=document.querySelector(".profile"),c=a.querySelector(".profile__avatar"),i=a.querySelector(".profile__name"),l=a.querySelector(".profile__about"),d=a.querySelector("#profile-btn"),u=a.querySelector("#avatar-btn");function h(e){i.textContent=e.name,l.textContent=e.about}function m(e){c.src=e.avatar}function _(e,t,r){r?t.forEach((e=>{r[e.id]?e.value=r[e.id]:e.reset()})):e.reset()}function f(e){const t={};return e.forEach((e=>{t[e.id]=e.value})),t}let v;function y(e){"Escape"===e.key&&p(v)}function S(e){e.currentTarget===e.target&&p(v)}function b(e){v=e,e.classList.add("modal_opened"),document.addEventListener("keydown",y)}function p(e){e.classList.remove("modal_opened"),document.removeEventListener("keydown",y)}d.addEventListener("click",(function(){_(E,C,{name:i.textContent,about:l.textContent}),b(q)})),u.addEventListener("click",(function(){b(L)})),s.getUser().then((function(e){h(e),m(e)})).catch(console.error),Array.from(document.querySelectorAll(".modal")).forEach((e=>{e.addEventListener("mousedown",S),e.querySelector(".modal__exit-btn").addEventListener("click",(()=>p(e)))}));const q=document.querySelector("#profile-modal"),E=document.forms["profile-form"],g=q.querySelector(".modal__button"),C=q.querySelectorAll(".modal__input");E.addEventListener("submit",(function(e){t((function(){return s.editUserInfo(f(C)).then((e=>{h(e),o(g),p(q)}))}),e)}));const L=document.querySelector("#avatar-modal"),k=document.forms["avatar-form"],U=L.querySelector(".modal__button"),A=L.querySelectorAll(".modal__input");k.addEventListener("submit",(function(e){t((function(){return s.editUserAvatar(f(A)).then((e=>{m(e),_(k,A),o(U),p(L)}))}),e)}));const $=document.querySelector("#post-modal"),x=document.forms["post-form"],R=$.querySelectorAll(".modal__input");let T,P;x.addEventListener("submit",(function(e){t((function(){return s.postCard(f(R)).then((e=>{z(e),p($),_(x,R)}))}),e)})),document.querySelector(".profile__post-btn").addEventListener("click",(()=>b($)));const w=document.querySelector("#delete-modal"),D=document.forms["delete-form"],I=w.querySelector("#cancel-btn");D.addEventListener("submit",(function(e){t((function(){return s.removeCard(P).then((()=>{T.remove(),p(w)}))}),e,"Deleting...")})),I.addEventListener("click",(()=>p(w)));const N=document.querySelector("#image-modal"),O=N.querySelector(".modal__image"),j=N.querySelectorAll(".modal__caption"),B="#card-template";function J(e,t){!0===t?e.classList.add("card__like-icon_selected"):e.classList.remove("card__like-icon_selected")}const H=document.querySelector(".card-container");function z(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"prepend";const r=function(e,t){const r=e.name,n=e.link,o=e._id;let a=e.isLiked;const c=document.querySelector(t).content.querySelector(".card").cloneNode(!0);c.querySelector(".card__text").textContent=r;const i=c.querySelector(".card__image");i.src=n,i.alt=r,i.addEventListener("click",(()=>{!function(e){O.src=e.link,O.alt=e.name,j.textContent=e.name}(e),b(N)}));const l=c.querySelector(".card__like-icon");return J(l,a),l.addEventListener("click",(()=>{a?(J(l,!1),s.dislikeCard(o).then((()=>{a=!1})).catch(console.error).finally((()=>{J(l,a)}))):(J(l,!0),s.likeCard(o).then((()=>{a=!0})).catch(console.error).finally((()=>{J(l,a)})))})),c.querySelector(".card__trash-icon").addEventListener("click",(()=>{T=c,P=o,b(w)})),c}(e,B);H[t](r)}var M;s.getInitialCards().then((e=>e.forEach((e=>z(e))))).catch(console.error),M={formSelector:".modal__form",inputSelector:".modal__input",submitButtonSelector:".modal__button",inactiveButtonClass:"modal__button_disabled",inputErrorClass:"modal__input_type_error",errorClass:"modal__error_visible"},Array.from(document.querySelectorAll(M.formSelector)).forEach((e=>{!function(e,t){const o=Array.from(e.querySelectorAll(t.inputSelector)),s=e.querySelector(t.submitButtonSelector);n(o,s),o.forEach((a=>{a.addEventListener("input",(()=>{!function(e,t,n){t.validity.valid?r(e,t,n):function(e,t,r,n){const o=e.querySelector(`#${t.id}-error`);o.textContent=r,o.classList.add(n.errorClass),t.classList.add(n.inputErrorClass)}(e,t,t.validationMessage,n)}(e,a,t),n(o,s)}))})),e.addEventListener("reset",(()=>{!function(e,t){Array.from(e.querySelectorAll(t.inputSelector)).forEach((n=>{r(e,n,t)}))}(e,t)}))}(e,M)}))}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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TUMsRUFBT0MsR0FwQmhDLFNBQXdCRixFQUFNQyxFQUFPOEgsRUFBYzdILEdBQ2pELE1BQU1DLEVBQWVILEVBQUtJLGNBQWMsSUFBSUgsRUFBTUksWUFFbERGLEVBQWFuQixZQUFjK0ksRUFDM0I1SCxFQUFhRyxVQUFVc0UsSUFBSTFFLEVBQU9NLFlBRWxDUCxFQUFNSyxVQUFVc0UsSUFBSTFFLEVBQU9PLGdCQUM3QixDQWVJdUgsQ0FBZWhJLEVBQU1DLEVBQU9BLEVBQU1nSSxrQkFBbUIvSCxFQUV6RCxDQXdDTWdJLENBQW1CbEksRUFBTUMsRUFBT0MsR0FDaENRLEVBQWtCQyxFQUFRbEMsRUFBTyxHQUNqQyxJQUdKdUIsRUFBSzZFLGlCQUFpQixTQUFTLE1BM0NqQyxTQUE2QjdFLEVBQU1FLEdBQ2xCaUYsTUFBTUMsS0FBS3BGLEVBQUtxRixpQkFBaUJuRixFQUFPMEgsZ0JBRWhEM0QsU0FBU2hFLElBQ2RGLEVBQWVDLEVBQU1DLEVBQU9DLEVBQU8sR0FFdkMsQ0FzQ0lpSSxDQUFvQm5JLEVBQU1FLEVBQU8sR0FFckMsQ0FLSWtJLENBQWtCcEksRUFBTUUsRUFBTyxHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3BvdHMtcHJvamVjdC8uL3NyYy91dGlscy91dGlscy5qcyIsIndlYnBhY2s6Ly9zcG90cy1wcm9qZWN0Ly4vc3JjL3NjcmlwdHMvdmFsaWRhdGlvbi5qcyIsIndlYnBhY2s6Ly9zcG90cy1wcm9qZWN0Ly4vc3JjL3NjcmlwdHMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vc3BvdHMtcHJvamVjdC8uL3NyYy91dGlscy9BcGkuanMiLCJ3ZWJwYWNrOi8vc3BvdHMtcHJvamVjdC8uL3NyYy91dGlscy9jb25zdGFudHMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gcmVuZGVyTG9hZGluZyhcbiAgYnV0dG9uLFxuICBpc0xvYWRpbmcsXG4gIGJ1dHRvblRleHQgPSBcIlNhdmVcIixcbiAgbG9hZGluZ1RleHQgPSBcIlNhdmluZy4uLlwiXG4pIHtcbiAgaWYgKGlzTG9hZGluZykge1xuICAgIGJ1dHRvbi50ZXh0Q29udGVudCA9IGxvYWRpbmdUZXh0O1xuICB9IGVsc2Uge1xuICAgIGJ1dHRvbi50ZXh0Q29udGVudCA9IGJ1dHRvblRleHQ7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGhhbmRsZVN1Ym1pdChyZXF1ZXN0LCBldnQsIGxvYWRpbmdUZXh0ID0gXCJTYXZpbmcuLi5cIikge1xuICBldnQucHJldmVudERlZmF1bHQoKTtcblxuICBjb25zdCBzdWJtaXRCdXR0b24gPSBldnQuc3VibWl0dGVyO1xuICBjb25zdCBpbml0aWFsVGV4dCA9IHN1Ym1pdEJ1dHRvbi50ZXh0Q29udGVudDtcblxuICByZW5kZXJMb2FkaW5nKHN1Ym1pdEJ1dHRvbiwgdHJ1ZSwgaW5pdGlhbFRleHQsIGxvYWRpbmdUZXh0KTtcbiAgcmVxdWVzdCgpXG4gICAgLnRoZW4oKCkgPT4gZXZ0LnRhcmdldC5yZXNldCgpKVxuICAgIC5jYXRjaChjb25zb2xlLmVycm9yKVxuICAgIC5maW5hbGx5KCgpID0+IHJlbmRlckxvYWRpbmcoc3VibWl0QnV0dG9uLCBmYWxzZSwgaW5pdGlhbFRleHQpKTtcbn1cbiIsImZ1bmN0aW9uIHNob3dJbnB1dEVycm9yKGZvcm0sIGlucHV0LCBlcnJvck1lc3NhZ2UsIGNvbmZpZykge1xuICBjb25zdCBlcnJvckVsZW1lbnQgPSBmb3JtLnF1ZXJ5U2VsZWN0b3IoYCMke2lucHV0LmlkfS1lcnJvcmApO1xuXG4gIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IGVycm9yTWVzc2FnZTtcbiAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5hZGQoY29uZmlnLmVycm9yQ2xhc3MpO1xuXG4gIGlucHV0LmNsYXNzTGlzdC5hZGQoY29uZmlnLmlucHV0RXJyb3JDbGFzcyk7XG59XG5cbmZ1bmN0aW9uIGhpZGVJbnB1dEVycm9yKGZvcm0sIGlucHV0LCBjb25maWcpIHtcbiAgY29uc3QgZXJyb3JFbGVtZW50ID0gZm9ybS5xdWVyeVNlbGVjdG9yKGAjJHtpbnB1dC5pZH0tZXJyb3JgKTtcblxuICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBcIlwiO1xuICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShjb25maWcuZXJyb3JDbGFzcyk7XG5cbiAgaW5wdXQuY2xhc3NMaXN0LnJlbW92ZShjb25maWcuaW5wdXRFcnJvckNsYXNzKTtcbn1cblxuZnVuY3Rpb24gY2hlY2tJbnB1dFZhbGlkaXR5KGZvcm0sIGlucHV0LCBjb25maWcpIHtcbiAgaWYgKGlucHV0LnZhbGlkaXR5LnZhbGlkKSB7XG4gICAgaGlkZUlucHV0RXJyb3IoZm9ybSwgaW5wdXQsIGNvbmZpZyk7XG4gIH0gZWxzZSB7XG4gICAgc2hvd0lucHV0RXJyb3IoZm9ybSwgaW5wdXQsIGlucHV0LnZhbGlkYXRpb25NZXNzYWdlLCBjb25maWcpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGhpZGVGb3JtSW5wdXRFcnJvcnMoZm9ybSwgY29uZmlnKSB7XG4gIGNvbnN0IGlucHV0cyA9IEFycmF5LmZyb20oZm9ybS5xdWVyeVNlbGVjdG9yQWxsKGNvbmZpZy5pbnB1dFNlbGVjdG9yKSk7XG5cbiAgaW5wdXRzLmZvckVhY2goKGlucHV0KSA9PiB7XG4gICAgaGlkZUlucHV0RXJyb3IoZm9ybSwgaW5wdXQsIGNvbmZpZyk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiB0b2dnbGVCdXR0b25TdGF0ZShpbnB1dHMsIGJ1dHRvbikge1xuICBpZiAoaW5wdXRzLmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xuXG4gIGNvbnN0IG5vdFZhbGlkID0gaW5wdXRzLnNvbWUoKGlucHV0KSA9PiB7XG4gICAgcmV0dXJuICFpbnB1dC52YWxpZGl0eS52YWxpZDtcbiAgfSk7XG5cbiAgaWYgKG5vdFZhbGlkKSB7XG4gICAgZGlzYWJsZUJ1dHRvbihidXR0b24pO1xuICB9IGVsc2Uge1xuICAgIGVuYWJsZUJ1dHRvbihidXR0b24pO1xuICB9XG59XG5cbmZ1bmN0aW9uIGVuYWJsZUJ1dHRvbihidXR0b24pIHtcbiAgYnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkaXNhYmxlQnV0dG9uKGJ1dHRvbikge1xuICBidXR0b24uZGlzYWJsZWQgPSB0cnVlO1xufVxuXG5mdW5jdGlvbiBzZXRFdmVudExpc3RlbmVycyhmb3JtLCBjb25maWcpIHtcbiAgY29uc3QgaW5wdXRzID0gQXJyYXkuZnJvbShmb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoY29uZmlnLmlucHV0U2VsZWN0b3IpKTtcbiAgY29uc3QgYnV0dG9uID0gZm9ybS5xdWVyeVNlbGVjdG9yKGNvbmZpZy5zdWJtaXRCdXR0b25TZWxlY3Rvcik7XG5cbiAgdG9nZ2xlQnV0dG9uU3RhdGUoaW5wdXRzLCBidXR0b24pO1xuXG4gIGlucHV0cy5mb3JFYWNoKChpbnB1dCkgPT4ge1xuICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoKSA9PiB7XG4gICAgICBjaGVja0lucHV0VmFsaWRpdHkoZm9ybSwgaW5wdXQsIGNvbmZpZyk7XG4gICAgICB0b2dnbGVCdXR0b25TdGF0ZShpbnB1dHMsIGJ1dHRvbik7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInJlc2V0XCIsICgpID0+IHtcbiAgICBoaWRlRm9ybUlucHV0RXJyb3JzKGZvcm0sIGNvbmZpZyk7XG4gIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZW5hYmxlVmFsaWRhdGlvbihjb25maWcpIHtcbiAgY29uc3QgZm9ybXMgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoY29uZmlnLmZvcm1TZWxlY3RvcikpO1xuICBmb3Jtcy5mb3JFYWNoKChmb3JtKSA9PiB7XG4gICAgc2V0RXZlbnRMaXN0ZW5lcnMoZm9ybSwgY29uZmlnKTtcbiAgfSk7XG59XG4iLCJpbXBvcnQgXCIuLi9wYWdlcy9pbmRleC5jc3NcIjtcbmltcG9ydCBBcGkgZnJvbSBcIi4uL3V0aWxzL0FwaS5qc1wiO1xuaW1wb3J0IHsgaGFuZGxlU3VibWl0IH0gZnJvbSBcIi4uL3V0aWxzL3V0aWxzLmpzXCI7XG5pbXBvcnQgeyBzZXR0aW5ncyB9IGZyb20gXCIuLi91dGlscy9jb25zdGFudHMuanNcIjtcbmltcG9ydCB7IGVuYWJsZVZhbGlkYXRpb24sIGRpc2FibGVCdXR0b24gfSBmcm9tIFwiLi92YWxpZGF0aW9uLmpzXCI7XG5cbi8vIEFwaVxuY29uc3QgYXBpID0gbmV3IEFwaSh7XG4gIGJhc2VVcmw6IFwiaHR0cHM6Ly9hcm91bmQtYXBpLmVuLnRyaXBsZXRlbi1zZXJ2aWNlcy5jb20vdjFcIixcbiAgaGVhZGVyczoge1xuICAgIGF1dGhvcml6YXRpb246IFwiNmE0OWJjNzMtNGNiZi00MWI3LWJkM2YtOWM0N2IxOTE5ODY5XCIsXG4gICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gIH0sXG59KTtcblxuLy8gUHJvZmlsZVxuY29uc3QgcHJvZmlsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZVwiKTtcbmNvbnN0IGF2YXRhciA9IHByb2ZpbGUucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19hdmF0YXJcIik7XG5jb25zdCBuYW1lID0gcHJvZmlsZS5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX25hbWVcIik7XG5jb25zdCBhYm91dCA9IHByb2ZpbGUucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19hYm91dFwiKTtcbmNvbnN0IGVkaXRCdG4gPSBwcm9maWxlLnF1ZXJ5U2VsZWN0b3IoXCIjcHJvZmlsZS1idG5cIik7XG5jb25zdCBhdmF0YXJCdG4gPSBwcm9maWxlLnF1ZXJ5U2VsZWN0b3IoXCIjYXZhdGFyLWJ0blwiKTtcblxuZnVuY3Rpb24gc2V0RGF0YShkYXRhKSB7XG4gIHNldEluZm8oZGF0YSk7XG4gIHNldEF2YXRhcihkYXRhKTtcbn1cblxuZnVuY3Rpb24gc2V0SW5mbyhkYXRhKSB7XG4gIG5hbWUudGV4dENvbnRlbnQgPSBkYXRhLm5hbWU7XG4gIGFib3V0LnRleHRDb250ZW50ID0gZGF0YS5hYm91dDtcbn1cblxuZnVuY3Rpb24gc2V0QXZhdGFyKGRhdGEpIHtcbiAgYXZhdGFyLnNyYyA9IGRhdGEuYXZhdGFyO1xufVxuXG5mdW5jdGlvbiBvbkluZm9FZGl0KCkge1xuICBzZXRJbnB1dFZhbHVlcyhwcm9maWxlRm9ybSwgcHJvZmlsZUlucHV0TGlzdCwge1xuICAgIG5hbWU6IG5hbWUudGV4dENvbnRlbnQsXG4gICAgYWJvdXQ6IGFib3V0LnRleHRDb250ZW50LFxuICB9KTtcbiAgb3Blbk1vZGFsKHByb2ZpbGVNb2RhbCk7XG59XG5cbmZ1bmN0aW9uIG9uQXZhdGFyRWRpdCgpIHtcbiAgb3Blbk1vZGFsKGF2YXRhck1vZGFsKTtcbn1cblxuZWRpdEJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgb25JbmZvRWRpdCk7XG5hdmF0YXJCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIG9uQXZhdGFyRWRpdCk7XG5cbmFwaS5nZXRVc2VyKCkudGhlbihzZXREYXRhKS5jYXRjaChjb25zb2xlLmVycm9yKTtcblxuLy8gRm9ybVxuZnVuY3Rpb24gc2V0SW5wdXRWYWx1ZXMoZm9ybSwgaW5wdXRMaXN0LCBpbnB1dFZhbHVlcykge1xuICBpZiAoaW5wdXRWYWx1ZXMpIHtcbiAgICBpbnB1dExpc3QuZm9yRWFjaCgoaW5wdXQpID0+IHtcbiAgICAgIGlmIChpbnB1dFZhbHVlc1tpbnB1dC5pZF0pIHtcbiAgICAgICAgaW5wdXQudmFsdWUgPSBpbnB1dFZhbHVlc1tpbnB1dC5pZF07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpbnB1dC5yZXNldCgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIGZvcm0ucmVzZXQoKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBnZXRJbnB1dFZhbHVlcyhpbnB1dExpc3QpIHtcbiAgY29uc3QgaW5wdXRWYWx1ZXMgPSB7fTtcbiAgaW5wdXRMaXN0LmZvckVhY2goKGlucHV0KSA9PiB7XG4gICAgaW5wdXRWYWx1ZXNbaW5wdXQuaWRdID0gaW5wdXQudmFsdWU7XG4gIH0pO1xuXG4gIHJldHVybiBpbnB1dFZhbHVlcztcbn1cblxuLy8gTW9kYWxcbmxldCBjdXJyZW50TW9kYWw7XG5cbmZ1bmN0aW9uIGVzY2FwZUhhbmRsZXIoZXZ0KSB7XG4gIGlmIChldnQua2V5ID09PSBcIkVzY2FwZVwiKSB7XG4gICAgY2xvc2VNb2RhbChjdXJyZW50TW9kYWwpO1xuICB9XG59XG5cbmZ1bmN0aW9uIG91dHNpZGVDbGlja0hhbmRsZXIoZXZ0KSB7XG4gIGlmIChldnQuY3VycmVudFRhcmdldCA9PT0gZXZ0LnRhcmdldCkge1xuICAgIGNsb3NlTW9kYWwoY3VycmVudE1vZGFsKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBvcGVuTW9kYWwobW9kYWwpIHtcbiAgY3VycmVudE1vZGFsID0gbW9kYWw7XG4gIG1vZGFsLmNsYXNzTGlzdC5hZGQoXCJtb2RhbF9vcGVuZWRcIik7XG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIGVzY2FwZUhhbmRsZXIpO1xufVxuXG5mdW5jdGlvbiBjbG9zZU1vZGFsKG1vZGFsKSB7XG4gIG1vZGFsLmNsYXNzTGlzdC5yZW1vdmUoXCJtb2RhbF9vcGVuZWRcIik7XG4gIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIGVzY2FwZUhhbmRsZXIpO1xufVxuXG5jb25zdCBtb2RhbHMgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIubW9kYWxcIikpO1xubW9kYWxzLmZvckVhY2goKG1vZGFsKSA9PiB7XG4gIG1vZGFsLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgb3V0c2lkZUNsaWNrSGFuZGxlcik7XG5cbiAgY29uc3QgZXhpdEJ0biA9IG1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2V4aXQtYnRuXCIpO1xuICBleGl0QnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiBjbG9zZU1vZGFsKG1vZGFsKSk7XG59KTtcblxuLy8gUHJvZmlsZSBNb2RhbFxuY29uc3QgcHJvZmlsZU1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcm9maWxlLW1vZGFsXCIpO1xuY29uc3QgcHJvZmlsZUZvcm0gPSBkb2N1bWVudC5mb3Jtc1tcInByb2ZpbGUtZm9ybVwiXTtcbmNvbnN0IHByb2ZpbGVTdWJtaXRCdG4gPSBwcm9maWxlTW9kYWwucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fYnV0dG9uXCIpO1xuY29uc3QgcHJvZmlsZUlucHV0TGlzdCA9IHByb2ZpbGVNb2RhbC5xdWVyeVNlbGVjdG9yQWxsKFwiLm1vZGFsX19pbnB1dFwiKTtcblxuZnVuY3Rpb24gb25Qcm9maWxlRm9ybVN1Ym1pdChldnQpIHtcbiAgZnVuY3Rpb24gbWFrZVJlcXVlc3QoKSB7XG4gICAgcmV0dXJuIGFwaS5lZGl0VXNlckluZm8oZ2V0SW5wdXRWYWx1ZXMocHJvZmlsZUlucHV0TGlzdCkpLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgIHNldEluZm8oZGF0YSk7XG4gICAgICBkaXNhYmxlQnV0dG9uKHByb2ZpbGVTdWJtaXRCdG4pO1xuICAgICAgY2xvc2VNb2RhbChwcm9maWxlTW9kYWwpO1xuICAgIH0pO1xuICB9XG5cbiAgaGFuZGxlU3VibWl0KG1ha2VSZXF1ZXN0LCBldnQpO1xufVxuXG5wcm9maWxlRm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIG9uUHJvZmlsZUZvcm1TdWJtaXQpO1xuXG4vLyBBdmF0YXIgTW9kYWxcbmNvbnN0IGF2YXRhck1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNhdmF0YXItbW9kYWxcIik7XG5jb25zdCBhdmF0YXJGb3JtID0gZG9jdW1lbnQuZm9ybXNbXCJhdmF0YXItZm9ybVwiXTtcbmNvbnN0IGF2YXRhclN1Ym1pdEJ0biA9IGF2YXRhck1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2J1dHRvblwiKTtcbmNvbnN0IGF2YXRhcklucHV0TGlzdCA9IGF2YXRhck1vZGFsLnF1ZXJ5U2VsZWN0b3JBbGwoXCIubW9kYWxfX2lucHV0XCIpO1xuXG5mdW5jdGlvbiBvbkF2YXRhckZvcm1TdWJtaXQoZXZ0KSB7XG4gIGZ1bmN0aW9uIG1ha2VSZXF1ZXN0KCkge1xuICAgIHJldHVybiBhcGkuZWRpdFVzZXJBdmF0YXIoZ2V0SW5wdXRWYWx1ZXMoYXZhdGFySW5wdXRMaXN0KSkudGhlbigoZGF0YSkgPT4ge1xuICAgICAgc2V0QXZhdGFyKGRhdGEpO1xuICAgICAgc2V0SW5wdXRWYWx1ZXMoYXZhdGFyRm9ybSwgYXZhdGFySW5wdXRMaXN0KTtcbiAgICAgIGRpc2FibGVCdXR0b24oYXZhdGFyU3VibWl0QnRuKTtcbiAgICAgIGNsb3NlTW9kYWwoYXZhdGFyTW9kYWwpO1xuICAgIH0pO1xuICB9XG5cbiAgaGFuZGxlU3VibWl0KG1ha2VSZXF1ZXN0LCBldnQpO1xufVxuXG5hdmF0YXJGb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgb25BdmF0YXJGb3JtU3VibWl0KTtcblxuLy8gUG9zdCBNb2RhbFxuY29uc3QgcG9zdE1vZGFsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwb3N0LW1vZGFsXCIpO1xuY29uc3QgcG9zdEZvcm0gPSBkb2N1bWVudC5mb3Jtc1tcInBvc3QtZm9ybVwiXTtcbmNvbnN0IHBvc3RJbnB1dExpc3QgPSBwb3N0TW9kYWwucXVlcnlTZWxlY3RvckFsbChcIi5tb2RhbF9faW5wdXRcIik7XG5cbmZ1bmN0aW9uIG9uUG9zdEZvcm1TdWJtaXQoZXZ0KSB7XG4gIGZ1bmN0aW9uIG1ha2VSZXF1ZXN0KCkge1xuICAgIHJldHVybiBhcGkucG9zdENhcmQoZ2V0SW5wdXRWYWx1ZXMocG9zdElucHV0TGlzdCkpLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgIHJlbmRlckNhcmQoZGF0YSk7XG4gICAgICBjbG9zZU1vZGFsKHBvc3RNb2RhbCk7XG4gICAgICBzZXRJbnB1dFZhbHVlcyhwb3N0Rm9ybSwgcG9zdElucHV0TGlzdCk7XG4gICAgfSk7XG4gIH1cblxuICBoYW5kbGVTdWJtaXQobWFrZVJlcXVlc3QsIGV2dCk7XG59XG5cbnBvc3RGb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgb25Qb3N0Rm9ybVN1Ym1pdCk7XG5cbmNvbnN0IHBvc3RBZGRCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX3Bvc3QtYnRuXCIpO1xucG9zdEFkZEJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4gb3Blbk1vZGFsKHBvc3RNb2RhbCkpO1xuXG4vLyBEZWxldGUgTW9kYWxcbmxldCBjdXJyZW50Q2FyZDtcbmxldCBjdXJyZW50Q2FyZElkO1xuXG5jb25zdCBkZWxldGVNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjZGVsZXRlLW1vZGFsXCIpO1xuY29uc3QgZGVsZXRlRm9ybSA9IGRvY3VtZW50LmZvcm1zW1wiZGVsZXRlLWZvcm1cIl07XG5jb25zdCBjYW5jZWxCdG4gPSBkZWxldGVNb2RhbC5xdWVyeVNlbGVjdG9yKGAjY2FuY2VsLWJ0bmApO1xuXG5mdW5jdGlvbiBvbkRlbGV0ZUNhcmQoZXZ0KSB7XG4gIGZ1bmN0aW9uIG1ha2VSZXF1ZXN0KCkge1xuICAgIHJldHVybiBhcGkucmVtb3ZlQ2FyZChjdXJyZW50Q2FyZElkKS50aGVuKCgpID0+IHtcbiAgICAgIGN1cnJlbnRDYXJkLnJlbW92ZSgpO1xuICAgICAgY2xvc2VNb2RhbChkZWxldGVNb2RhbCk7XG4gICAgfSk7XG4gIH1cblxuICBoYW5kbGVTdWJtaXQobWFrZVJlcXVlc3QsIGV2dCwgXCJEZWxldGluZy4uLlwiKTtcbn1cblxuZGVsZXRlRm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIG9uRGVsZXRlQ2FyZCk7XG5jYW5jZWxCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IGNsb3NlTW9kYWwoZGVsZXRlTW9kYWwpKTtcblxuLy8gSW1hZ2UgTW9kYWxcbmNvbnN0IGltYWdlTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2ltYWdlLW1vZGFsXCIpO1xuY29uc3QgaW1hZ2UgPSBpbWFnZU1vZGFsLnF1ZXJ5U2VsZWN0b3IoYC5tb2RhbF9faW1hZ2VgKTtcbmNvbnN0IGNhcHRpb24gPSBpbWFnZU1vZGFsLnF1ZXJ5U2VsZWN0b3JBbGwoYC5tb2RhbF9fY2FwdGlvbmApO1xuXG5mdW5jdGlvbiBsb2FkTW9kYWxJbWFnZShkYXRhKSB7XG4gIGltYWdlLnNyYyA9IGRhdGEubGluaztcbiAgaW1hZ2UuYWx0ID0gZGF0YS5uYW1lO1xuICBjYXB0aW9uLnRleHRDb250ZW50ID0gZGF0YS5uYW1lO1xufVxuXG4vLyBDYXJkXG5jb25zdCBjYXJkVGVtcGxhdGUgPSBcIiNjYXJkLXRlbXBsYXRlXCI7XG5cbmZ1bmN0aW9uIGdldENhcmRUZW1wbGF0ZSh0ZW1wbGF0ZSkge1xuICByZXR1cm4gdGVtcGxhdGUuY29udGVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRcIikuY2xvbmVOb2RlKHRydWUpO1xufVxuXG5mdW5jdGlvbiBlbmFibGVDYXJkTGlrZShsaWtlQnRuLCBpc0xpa2VkKSB7XG4gIGlmIChpc0xpa2VkID09PSB0cnVlKSB7XG4gICAgbGlrZUJ0bi5jbGFzc0xpc3QuYWRkKFwiY2FyZF9fbGlrZS1pY29uX3NlbGVjdGVkXCIpO1xuICB9IGVsc2Uge1xuICAgIGxpa2VCdG4uY2xhc3NMaXN0LnJlbW92ZShcImNhcmRfX2xpa2UtaWNvbl9zZWxlY3RlZFwiKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBjcmVhdGVDYXJkKGRhdGEsIHNlbGVjdG9yKSB7XG4gIGNvbnN0IGNhcmROYW1lID0gZGF0YS5uYW1lO1xuICBjb25zdCBjYXJkTGluayA9IGRhdGEubGluaztcbiAgY29uc3QgY2FyZElkID0gZGF0YS5faWQ7XG4gIGxldCBpc0xpa2VkID0gZGF0YS5pc0xpa2VkO1xuXG4gIGNvbnN0IHRlbXBsYXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3Rvcik7XG4gIGNvbnN0IGVsZW1lbnQgPSBnZXRDYXJkVGVtcGxhdGUodGVtcGxhdGUpO1xuXG4gIGNvbnN0IGNhcmRUZXh0ID0gZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX3RleHRcIik7XG4gIGNhcmRUZXh0LnRleHRDb250ZW50ID0gY2FyZE5hbWU7XG5cbiAgY29uc3QgY2FyZEltYWdlID0gZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2ltYWdlXCIpO1xuICBjYXJkSW1hZ2Uuc3JjID0gY2FyZExpbms7XG4gIGNhcmRJbWFnZS5hbHQgPSBjYXJkTmFtZTtcblxuICBjYXJkSW1hZ2UuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICBsb2FkTW9kYWxJbWFnZShkYXRhKTtcbiAgICBvcGVuTW9kYWwoaW1hZ2VNb2RhbCk7XG4gIH0pO1xuXG4gIGNvbnN0IGxpa2VCdG4gPSBlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fbGlrZS1pY29uXCIpO1xuICBlbmFibGVDYXJkTGlrZShsaWtlQnRuLCBpc0xpa2VkKTtcblxuICBsaWtlQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgLy8gV2lsbCByZXZlcnQgdGhlIGxpa2VzIGFwcGVyYW5jZSBpZiBpdCB3YXNuJ3QgYWJsZSB0byBzZW5kIHRvIHRoZSBzZXJ2ZXJcbiAgICBpZiAoaXNMaWtlZCkge1xuICAgICAgZW5hYmxlQ2FyZExpa2UobGlrZUJ0biwgZmFsc2UpO1xuICAgICAgYXBpXG4gICAgICAgIC5kaXNsaWtlQ2FyZChjYXJkSWQpXG4gICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICBpc0xpa2VkID0gZmFsc2U7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaChjb25zb2xlLmVycm9yKVxuICAgICAgICAuZmluYWxseSgoKSA9PiB7XG4gICAgICAgICAgZW5hYmxlQ2FyZExpa2UobGlrZUJ0biwgaXNMaWtlZCk7XG4gICAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBlbmFibGVDYXJkTGlrZShsaWtlQnRuLCB0cnVlKTtcbiAgICAgIGFwaVxuICAgICAgICAubGlrZUNhcmQoY2FyZElkKVxuICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgaXNMaWtlZCA9IHRydWU7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaChjb25zb2xlLmVycm9yKVxuICAgICAgICAuZmluYWxseSgoKSA9PiB7XG4gICAgICAgICAgZW5hYmxlQ2FyZExpa2UobGlrZUJ0biwgaXNMaWtlZCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG5cbiAgY29uc3QgdHJhc2hCdG4gPSBlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fdHJhc2gtaWNvblwiKTtcblxuICB0cmFzaEJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgIGN1cnJlbnRDYXJkID0gZWxlbWVudDtcbiAgICBjdXJyZW50Q2FyZElkID0gY2FyZElkO1xuICAgIG9wZW5Nb2RhbChkZWxldGVNb2RhbCk7XG4gIH0pO1xuXG4gIHJldHVybiBlbGVtZW50O1xufVxuXG4vLyBDYXJkIENvbnRhaW5lclxuY29uc3QgY2FyZENvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZC1jb250YWluZXJcIik7XG5cbmZ1bmN0aW9uIHJlbmRlckNhcmQoZGF0YSwgbWV0aG9kID0gXCJwcmVwZW5kXCIpIHtcbiAgY29uc3QgY2FyZEVsZW1lbnQgPSBjcmVhdGVDYXJkKGRhdGEsIGNhcmRUZW1wbGF0ZSk7XG4gIGNhcmRDb250YWluZXJbbWV0aG9kXShjYXJkRWxlbWVudCk7XG59XG5cbmFwaVxuICAuZ2V0SW5pdGlhbENhcmRzKClcbiAgLnRoZW4oKGNhcmRzKSA9PiBjYXJkcy5mb3JFYWNoKChjYXJkKSA9PiByZW5kZXJDYXJkKGNhcmQpKSlcbiAgLmNhdGNoKGNvbnNvbGUuZXJyb3IpO1xuXG4vLyBWYWxpZGF0aW9uXG5lbmFibGVWYWxpZGF0aW9uKHNldHRpbmdzKTtcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIEFwaSB7XG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICB0aGlzLl9iYXNlVXJsID0gb3B0aW9ucy5iYXNlVXJsO1xuICAgIHRoaXMuX2hlYWRlcnMgPSBvcHRpb25zLmhlYWRlcnM7XG4gIH1cblxuICBfZ2V0UmVzdWx0KHJlcykge1xuICAgIGlmIChyZXMub2spIHtcbiAgICAgIHJldHVybiByZXMuanNvbigpO1xuICAgIH1cbiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYEVycm9yOiAke3Jlcy5zdGF0dXN9YCk7XG4gIH1cblxuICBnZXRJbml0aWFsQ2FyZHMoKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzYCwgeyBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzIH0pLnRoZW4oXG4gICAgICB0aGlzLl9nZXRSZXN1bHRcbiAgICApO1xuICB9XG5cbiAgZ2V0VXNlcigpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWVgLCB7IGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMgfSkudGhlbihcbiAgICAgIHRoaXMuX2dldFJlc3VsdFxuICAgICk7XG4gIH1cblxuICBlZGl0VXNlckluZm8oeyBuYW1lLCBhYm91dCB9KSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lYCwge1xuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBuYW1lLFxuICAgICAgICBhYm91dCxcbiAgICAgIH0pLFxuICAgIH0pLnRoZW4odGhpcy5fZ2V0UmVzdWx0KTtcbiAgfVxuXG4gIGVkaXRVc2VyQXZhdGFyKHsgYXZhdGFyIH0pIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWUvYXZhdGFyYCwge1xuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBhdmF0YXIsXG4gICAgICB9KSxcbiAgICB9KS50aGVuKHRoaXMuX2dldFJlc3VsdCk7XG4gIH1cblxuICBwb3N0Q2FyZCh7IG5hbWUsIGxpbmsgfSkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkc2AsIHtcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBuYW1lLFxuICAgICAgICBsaW5rLFxuICAgICAgfSksXG4gICAgfSkudGhlbih0aGlzLl9nZXRSZXN1bHQpO1xuICB9XG5cbiAgcmVtb3ZlQ2FyZChpZCkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkcy8ke2lkfWAsIHtcbiAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgfSkudGhlbih0aGlzLl9nZXRSZXN1bHQpO1xuICB9XG5cbiAgbGlrZUNhcmQoaWQpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvJHtpZH0vbGlrZXNgLCB7XG4gICAgICBtZXRob2Q6IFwiUFVUXCIsXG4gICAgICBoZWFkZXJzOiB0aGlzLl9oZWFkZXJzLFxuICAgIH0pLnRoZW4odGhpcy5fZ2V0UmVzdWx0KTtcbiAgfVxuXG4gIGRpc2xpa2VDYXJkKGlkKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzLyR7aWR9L2xpa2VzYCwge1xuICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICB9KS50aGVuKHRoaXMuX2dldFJlc3VsdCk7XG4gIH1cbn1cbiIsImV4cG9ydCBjb25zdCBzZXR0aW5ncyA9IHtcbiAgZm9ybVNlbGVjdG9yOiBcIi5tb2RhbF9fZm9ybVwiLFxuICBpbnB1dFNlbGVjdG9yOiBcIi5tb2RhbF9faW5wdXRcIixcbiAgc3VibWl0QnV0dG9uU2VsZWN0b3I6IFwiLm1vZGFsX19idXR0b25cIixcbiAgaW5hY3RpdmVCdXR0b25DbGFzczogXCJtb2RhbF9fYnV0dG9uX2Rpc2FibGVkXCIsXG4gIGlucHV0RXJyb3JDbGFzczogXCJtb2RhbF9faW5wdXRfdHlwZV9lcnJvclwiLFxuICBlcnJvckNsYXNzOiBcIm1vZGFsX19lcnJvcl92aXNpYmxlXCIsXG59O1xuIl0sIm5hbWVzIjpbInJlbmRlckxvYWRpbmciLCJidXR0b24iLCJpc0xvYWRpbmciLCJidXR0b25UZXh0IiwiYXJndW1lbnRzIiwibGVuZ3RoIiwidW5kZWZpbmVkIiwibG9hZGluZ1RleHQiLCJ0ZXh0Q29udGVudCIsImhhbmRsZVN1Ym1pdCIsInJlcXVlc3QiLCJldnQiLCJwcmV2ZW50RGVmYXVsdCIsInN1Ym1pdEJ1dHRvbiIsInN1Ym1pdHRlciIsImluaXRpYWxUZXh0IiwidGhlbiIsInRhcmdldCIsInJlc2V0IiwiY2F0Y2giLCJjb25zb2xlIiwiZXJyb3IiLCJmaW5hbGx5IiwiaGlkZUlucHV0RXJyb3IiLCJmb3JtIiwiaW5wdXQiLCJjb25maWciLCJlcnJvckVsZW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiaWQiLCJjbGFzc0xpc3QiLCJyZW1vdmUiLCJlcnJvckNsYXNzIiwiaW5wdXRFcnJvckNsYXNzIiwidG9nZ2xlQnV0dG9uU3RhdGUiLCJpbnB1dHMiLCJzb21lIiwidmFsaWRpdHkiLCJ2YWxpZCIsImRpc2FibGVCdXR0b24iLCJkaXNhYmxlZCIsImVuYWJsZUJ1dHRvbiIsImFwaSIsImNvbnN0cnVjdG9yIiwib3B0aW9ucyIsInRoaXMiLCJfYmFzZVVybCIsImJhc2VVcmwiLCJfaGVhZGVycyIsImhlYWRlcnMiLCJfZ2V0UmVzdWx0IiwicmVzIiwib2siLCJqc29uIiwiUHJvbWlzZSIsInJlamVjdCIsInN0YXR1cyIsImdldEluaXRpYWxDYXJkcyIsImZldGNoIiwiZ2V0VXNlciIsImVkaXRVc2VySW5mbyIsIl9yZWYiLCJuYW1lIiwiYWJvdXQiLCJtZXRob2QiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsImVkaXRVc2VyQXZhdGFyIiwiX3JlZjIiLCJhdmF0YXIiLCJwb3N0Q2FyZCIsIl9yZWYzIiwibGluayIsInJlbW92ZUNhcmQiLCJsaWtlQ2FyZCIsImRpc2xpa2VDYXJkIiwiYXV0aG9yaXphdGlvbiIsInByb2ZpbGUiLCJkb2N1bWVudCIsImVkaXRCdG4iLCJhdmF0YXJCdG4iLCJzZXRJbmZvIiwiZGF0YSIsInNldEF2YXRhciIsInNyYyIsInNldElucHV0VmFsdWVzIiwiaW5wdXRMaXN0IiwiaW5wdXRWYWx1ZXMiLCJmb3JFYWNoIiwidmFsdWUiLCJnZXRJbnB1dFZhbHVlcyIsImN1cnJlbnRNb2RhbCIsImVzY2FwZUhhbmRsZXIiLCJrZXkiLCJjbG9zZU1vZGFsIiwib3V0c2lkZUNsaWNrSGFuZGxlciIsImN1cnJlbnRUYXJnZXQiLCJvcGVuTW9kYWwiLCJtb2RhbCIsImFkZCIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwicHJvZmlsZUZvcm0iLCJwcm9maWxlSW5wdXRMaXN0IiwicHJvZmlsZU1vZGFsIiwiYXZhdGFyTW9kYWwiLCJBcnJheSIsImZyb20iLCJxdWVyeVNlbGVjdG9yQWxsIiwiZm9ybXMiLCJwcm9maWxlU3VibWl0QnRuIiwiYXZhdGFyRm9ybSIsImF2YXRhclN1Ym1pdEJ0biIsImF2YXRhcklucHV0TGlzdCIsInBvc3RNb2RhbCIsInBvc3RGb3JtIiwicG9zdElucHV0TGlzdCIsImN1cnJlbnRDYXJkIiwiY3VycmVudENhcmRJZCIsInJlbmRlckNhcmQiLCJkZWxldGVNb2RhbCIsImRlbGV0ZUZvcm0iLCJjYW5jZWxCdG4iLCJpbWFnZU1vZGFsIiwiaW1hZ2UiLCJjYXB0aW9uIiwiY2FyZFRlbXBsYXRlIiwiZW5hYmxlQ2FyZExpa2UiLCJsaWtlQnRuIiwiaXNMaWtlZCIsImNhcmRDb250YWluZXIiLCJjYXJkRWxlbWVudCIsInNlbGVjdG9yIiwiY2FyZE5hbWUiLCJjYXJkTGluayIsImNhcmRJZCIsIl9pZCIsImVsZW1lbnQiLCJjb250ZW50IiwiY2xvbmVOb2RlIiwiY2FyZEltYWdlIiwiYWx0IiwibG9hZE1vZGFsSW1hZ2UiLCJjcmVhdGVDYXJkIiwiY2FyZHMiLCJjYXJkIiwiZm9ybVNlbGVjdG9yIiwiaW5wdXRTZWxlY3RvciIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsImVycm9yTWVzc2FnZSIsInNob3dJbnB1dEVycm9yIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJjaGVja0lucHV0VmFsaWRpdHkiLCJoaWRlRm9ybUlucHV0RXJyb3JzIiwic2V0RXZlbnRMaXN0ZW5lcnMiXSwic291cmNlUm9vdCI6IiJ9