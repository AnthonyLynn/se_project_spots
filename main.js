!function(){"use strict";const e=document.querySelector(".profile"),t=e.querySelector(".profile__name"),o=e.querySelector(".profile__occupation"),n=document.querySelector(".profile__edit-btn"),r=document.querySelectorAll(".modal"),c=document.querySelector("#profile-modal"),l=document.forms["profile-form"],a=l.querySelector(".modal__fieldset"),i=a.querySelector("#name"),d=a.querySelector("#description"),u=c.querySelector(".modal__button"),f=document.querySelector("#post-modal"),m=document.querySelector(".profile__post-btn"),s=document.forms["post-form"],p=(s.querySelector(".modal__fieldset"),s.querySelector("#image-link")),x=s.querySelector("#caption"),y=s.querySelector(".modal__button"),_=document.querySelector("#image-modal"),q=_.querySelector(".modal__image"),b=_.querySelector(".modal__caption"),w=document.querySelectorAll(".modal__exit-btn"),D=document.querySelector("#card-template").content,S=document.querySelector(".card-container");let v;function h(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"prepend";const o=function(e){const t=D.querySelector(".card").cloneNode(!0),o=t.querySelector(".card__image"),n=t.querySelector(".card__text"),r=t.querySelector(".card__like-icon"),c=t.querySelector(".card__trash-icon");return n.textContent=e.name,o.src=e.link,o.alt=e.name,r.addEventListener("click",(()=>{r.classList.toggle("card__like-icon_selected")})),c.addEventListener("click",(()=>{t.remove()})),o.addEventListener("click",(()=>{!function(e){q.src=e.link,q.alt=e.name,b.textContent=e.name}(e),H(_)})),t}(e);S[t](o)}function k(e){e.classList.remove("modal_opened"),document.removeEventListener("keydown",M)}function H(e){e.classList.add("modal_opened"),v=e,document.addEventListener("keydown",M)}function M(e){"Escape"===e.key&&k(v)}w.forEach((e=>{const t=e.closest(".modal");e.addEventListener("click",(()=>k(t)))})),n.addEventListener("click",(()=>{i.value=t.textContent,d.value=o.textContent,enableButton(u),H(c)})),l.addEventListener("submit",(function(e){e.preventDefault(),t.textContent=i.value,o.textContent=d.value,k(c)})),m.addEventListener("click",(()=>H(f))),s.addEventListener("submit",(function(e){e.preventDefault(),h({link:p.value,name:x.value}),k(f),s.reset(),disableButton(y)})),r.forEach((e=>{e.addEventListener("click",(t=>{t.currentTarget===t.target&&k(e)}))})),[{name:"Door",link:"https://images.unsplash.com/photo-1722100351919-86ee668c88db?q=80&w=1935&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"},{name:"Greens",link:"https://images.unsplash.com/photo-1722113515289-72771c520102?q=80&w=1887&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"},{name:"Overflow",link:"https://images.unsplash.com/photo-1722082095682-510a3ce6d59f?q=80&w=1887&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"},{name:"Mountains",link:"https://images.unsplash.com/photo-1723451150503-a82e2ccf121e?q=80&w=930&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"},{name:"Post",link:"https://images.unsplash.com/photo-1682935757340-ca567f83da68?q=80&w=1887&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"},{name:"Large House",link:"https://images.unsplash.com/photo-1722113515787-cdb34057d018?q=80&w=1887&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"}].forEach((e=>h(e)))}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QkFBaUIsVUE1QzdCLFNBQTJCWSxHQUN6QkEsRUFBSU8saUJBRUo5RCxFQUFZc0MsWUFBYzdCLEVBQXFCbUQsTUFDL0MzRCxFQUFrQnFDLFlBQWM1QixFQUE0QmtELE1BRTVEVixFQUFXN0MsRUFDYixJQXVDQVEsRUFBVzhCLGlCQUFpQixTQUFTLElBQU1LLEVBQVVwQyxLQUNyREUsRUFBUzZCLGlCQUFpQixVQXRDMUIsU0FBdUJvQixHQUNyQkEsRUFBTUQsaUJBS05wQyxFQUppQixDQUNmZSxLQUFNMUIsRUFBdUI2QyxNQUM3QnJCLEtBQU12QixFQUFxQjRDLFFBRzdCVixFQUFXdEMsR0FDWEUsRUFBU2tELFFBQ1RDLGNBQWNoRCxFQUNoQixJQThCQWQsRUFBT3NELFNBQVNOLElBQ2RBLEVBQU1SLGlCQUFpQixTQUFVWSxJQUMzQkEsRUFBSVcsZ0JBQWtCWCxFQUFJWSxRQUM1QmpCLEVBQVdDLEVBQ2IsR0FDQSxJQXBMaUIsQ0FDbkIsQ0FDRVosS0FBTSxPQUNORSxLQUFNLDBLQUVSLENBQ0VGLEtBQU0sU0FDTkUsS0FBTSwwS0FFUixDQUNFRixLQUFNLFdBQ05FLEtBQU0sMEtBRVIsQ0FDRUYsS0FBTSxZQUNORSxLQUFNLHlLQUVSLENBQ0VGLEtBQU0sT0FDTkUsS0FBTSwwS0FFUixDQUNFRixLQUFNLGNBQ05FLEtBQU0sMktBbUZIZ0IsU0FBU1csR0FBUzFDLEVBQVcwQyxJIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3BvdHMtcHJvamVjdC8uL3NyYy9zY3JpcHRzL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBcIi4uL3BhZ2VzL2luZGV4LmNzc1wiO1xuXG4vLy0tIFZhcmlhYmxlcyAtLS8vXG5cbi8vIENhcmQgZGF0YVxuY29uc3QgaW5pdGlhbENhcmRzID0gW1xuICB7XG4gICAgbmFtZTogXCJEb29yXCIsXG4gICAgbGluazogXCJodHRwczovL2ltYWdlcy51bnNwbGFzaC5jb20vcGhvdG8tMTcyMjEwMDM1MTkxOS04NmVlNjY4Yzg4ZGI/cT04MCZ3PTE5MzUmYXV0bz1mb3JtYXQmZml0PWNyb3AmaXhsaWI9cmItNC4wLjMmaXhpZD1NM3d4TWpBM2ZEQjhNSHh3YUc5MGJ5MXdZV2RsZkh4OGZHVnVmREI4Zkh4OGZBJTNEJTNEXCIsXG4gIH0sXG4gIHtcbiAgICBuYW1lOiBcIkdyZWVuc1wiLFxuICAgIGxpbms6IFwiaHR0cHM6Ly9pbWFnZXMudW5zcGxhc2guY29tL3Bob3RvLTE3MjIxMTM1MTUyODktNzI3NzFjNTIwMTAyP3E9ODAmdz0xODg3JmF1dG89Zm9ybWF0JmZpdD1jcm9wJml4bGliPXJiLTQuMC4zJml4aWQ9TTN3eE1qQTNmREI4TUh4d2FHOTBieTF3WVdkbGZIeDhmR1Z1ZkRCOGZIeDhmQSUzRCUzRFwiLFxuICB9LFxuICB7XG4gICAgbmFtZTogXCJPdmVyZmxvd1wiLFxuICAgIGxpbms6IFwiaHR0cHM6Ly9pbWFnZXMudW5zcGxhc2guY29tL3Bob3RvLTE3MjIwODIwOTU2ODItNTEwYTNjZTZkNTlmP3E9ODAmdz0xODg3JmF1dG89Zm9ybWF0JmZpdD1jcm9wJml4bGliPXJiLTQuMC4zJml4aWQ9TTN3eE1qQTNmREI4TUh4d2FHOTBieTF3WVdkbGZIeDhmR1Z1ZkRCOGZIeDhmQSUzRCUzRFwiLFxuICB9LFxuICB7XG4gICAgbmFtZTogXCJNb3VudGFpbnNcIixcbiAgICBsaW5rOiBcImh0dHBzOi8vaW1hZ2VzLnVuc3BsYXNoLmNvbS9waG90by0xNzIzNDUxMTUwNTAzLWE4MmUyY2NmMTIxZT9xPTgwJnc9OTMwJmF1dG89Zm9ybWF0JmZpdD1jcm9wJml4bGliPXJiLTQuMC4zJml4aWQ9TTN3eE1qQTNmREI4TUh4d2FHOTBieTF3WVdkbGZIeDhmR1Z1ZkRCOGZIeDhmQSUzRCUzRFwiLFxuICB9LFxuICB7XG4gICAgbmFtZTogXCJQb3N0XCIsXG4gICAgbGluazogXCJodHRwczovL2ltYWdlcy51bnNwbGFzaC5jb20vcGhvdG8tMTY4MjkzNTc1NzM0MC1jYTU2N2Y4M2RhNjg/cT04MCZ3PTE4ODcmYXV0bz1mb3JtYXQmZml0PWNyb3AmaXhsaWI9cmItNC4wLjMmaXhpZD1NM3d4TWpBM2ZEQjhNSHh3YUc5MGJ5MXdZV2RsZkh4OGZHVnVmREI4Zkh4OGZBJTNEJTNEXCIsXG4gIH0sXG4gIHtcbiAgICBuYW1lOiBcIkxhcmdlIEhvdXNlXCIsXG4gICAgbGluazogXCJodHRwczovL2ltYWdlcy51bnNwbGFzaC5jb20vcGhvdG8tMTcyMjExMzUxNTc4Ny1jZGIzNDA1N2QwMTg/cT04MCZ3PTE4ODcmYXV0bz1mb3JtYXQmZml0PWNyb3AmaXhsaWI9cmItNC4wLjMmaXhpZD1NM3d4TWpBM2ZEQjhNSHh3YUc5MGJ5MXdZV2RsZkh4OGZHVnVmREI4Zkh4OGZBJTNEJTNEXCIsXG4gIH0sXG5dO1xuXG4vLyBBdmF0YXIgaW5mb1xuY29uc3QgcHJvZmlsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZVwiKTtcbmNvbnN0IHByb2ZpbGVOYW1lID0gcHJvZmlsZS5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX25hbWVcIik7XG5jb25zdCBwcm9maWxlT2NjdXBhdGlvbiA9IHByb2ZpbGUucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19vY2N1cGF0aW9uXCIpO1xuY29uc3QgcHJvZmlsZUVkaXRCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2VkaXQtYnRuXCIpO1xuXG4vLyBNb2RhbHNcbmNvbnN0IG1vZGFscyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIubW9kYWxcIik7XG5cbi8vIFByb2ZpbGUgTW9kYWxcbmNvbnN0IHByb2ZpbGVNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJvZmlsZS1tb2RhbFwiKTtcbmNvbnN0IHByb2ZpbGVGb3JtID0gZG9jdW1lbnQuZm9ybXNbXCJwcm9maWxlLWZvcm1cIl07XG5jb25zdCBwcm9maWxlRm9ybUZpZWxkc2V0ID0gcHJvZmlsZUZvcm0ucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fZmllbGRzZXRcIik7XG5jb25zdCBwcm9maWxlRm9ybUlucHV0TmFtZSA9IHByb2ZpbGVGb3JtRmllbGRzZXQucXVlcnlTZWxlY3RvcihcIiNuYW1lXCIpO1xuY29uc3QgcHJvZmlsZUZvcm1JbnB1dERlc2NyaXB0aW9uID1cbiAgcHJvZmlsZUZvcm1GaWVsZHNldC5xdWVyeVNlbGVjdG9yKFwiI2Rlc2NyaXB0aW9uXCIpO1xuY29uc3QgcHJvZmlsZUZvcm1CdXR0b24gPSBwcm9maWxlTW9kYWwucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fYnV0dG9uXCIpO1xuXG4vLyBQb3N0IE1vZGFsXG5jb25zdCBwb3N0TW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Bvc3QtbW9kYWxcIik7XG5jb25zdCBwb3N0QWRkQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19wb3N0LWJ0blwiKTtcbmNvbnN0IHBvc3RGb3JtID0gZG9jdW1lbnQuZm9ybXNbXCJwb3N0LWZvcm1cIl07XG5jb25zdCBwb3N0Rm9ybUZpZWxkc2V0ID0gcG9zdEZvcm0ucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fZmllbGRzZXRcIik7XG5jb25zdCBwb3N0Rm9ybUlucHV0SW1hZ2VMaW5rID0gcG9zdEZvcm0ucXVlcnlTZWxlY3RvcihcIiNpbWFnZS1saW5rXCIpO1xuY29uc3QgcG9zdEZvcm1JbnB1dENhcHRpb24gPSBwb3N0Rm9ybS5xdWVyeVNlbGVjdG9yKFwiI2NhcHRpb25cIik7XG5jb25zdCBwb3N0Rm9ybUJ1dHRvbiA9IHBvc3RGb3JtLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2J1dHRvblwiKTtcblxuLy8gSW1hZ2UgTW9kYWxcbmNvbnN0IGltYWdlTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2ltYWdlLW1vZGFsXCIpO1xuY29uc3QgaW1hZ2VNb2RhbEltYWdlID0gaW1hZ2VNb2RhbC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19pbWFnZVwiKTtcbmNvbnN0IGltYWdlTW9kYWxDYXB0aW9uID0gaW1hZ2VNb2RhbC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19jYXB0aW9uXCIpO1xuXG4vLyBDbG9zZSBCdXR0b25zXG5jb25zdCBtb2RhbENsb3NlQnV0dG9ucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIubW9kYWxfX2V4aXQtYnRuXCIpO1xuXG4vLyBDYXJkc1xuY29uc3QgY2FyZFRlbXBsYXRlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNjYXJkLXRlbXBsYXRlXCIpLmNvbnRlbnQ7XG5jb25zdCBjYXJkQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkLWNvbnRhaW5lclwiKTtcblxuLy8gRGF0YVxubGV0IGN1cnJlbnRNb2RhbDtcblxuLy8tLSBGdW5jdGlvbnMgLS0vL1xuXG4vLyBSZXR1cm5zIGEgY3JlYXRlZCBjYXJkIGVsZW1lbnQgZnJvbSBjYXJkIGRhdGFcbmZ1bmN0aW9uIGNyZWF0ZUNhcmQoY2FyZERhdGEpIHtcbiAgY29uc3QgY2FyZEVsZW1lbnQgPSBjYXJkVGVtcGxhdGUucXVlcnlTZWxlY3RvcihcIi5jYXJkXCIpLmNsb25lTm9kZSh0cnVlKTtcbiAgY29uc3QgY2FyZEVsZW1lbnRJbWFnZSA9IGNhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9faW1hZ2VcIik7XG4gIGNvbnN0IGNhcmRFbGVtZW50VGV4dCA9IGNhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fdGV4dFwiKTtcbiAgY29uc3QgY2FyZEVsZW1lbnRMaWtlSWNvbkJ0biA9IGNhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fbGlrZS1pY29uXCIpO1xuICBjb25zdCBjYXJkRWxlbWVudFRyYXNoSWNvbkJ0biA9XG4gICAgY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX190cmFzaC1pY29uXCIpO1xuXG4gIGNhcmRFbGVtZW50VGV4dC50ZXh0Q29udGVudCA9IGNhcmREYXRhLm5hbWU7XG4gIGNhcmRFbGVtZW50SW1hZ2Uuc3JjID0gY2FyZERhdGEubGluaztcbiAgY2FyZEVsZW1lbnRJbWFnZS5hbHQgPSBjYXJkRGF0YS5uYW1lO1xuXG4gIGNhcmRFbGVtZW50TGlrZUljb25CdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICBjYXJkRWxlbWVudExpa2VJY29uQnRuLmNsYXNzTGlzdC50b2dnbGUoXCJjYXJkX19saWtlLWljb25fc2VsZWN0ZWRcIik7XG4gIH0pO1xuXG4gIGNhcmRFbGVtZW50VHJhc2hJY29uQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgY2FyZEVsZW1lbnQucmVtb3ZlKCk7XG4gIH0pO1xuXG4gIGNhcmRFbGVtZW50SW1hZ2UuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgICBsb2FkSW1hZ2VNb2RhbChjYXJkRGF0YSk7XG4gICAgb3Blbk1vZGFsKGltYWdlTW9kYWwpO1xuICB9KTtcblxuICByZXR1cm4gY2FyZEVsZW1lbnQ7XG59XG5cbmZ1bmN0aW9uIHJlbmRlckNhcmQoY2FyZERhdGEsIG1ldGhvZCA9IFwicHJlcGVuZFwiKSB7XG4gIGNvbnN0IGNhcmRFbGVtZW50ID0gY3JlYXRlQ2FyZChjYXJkRGF0YSk7XG4gIGNhcmRDb250YWluZXJbbWV0aG9kXShjYXJkRWxlbWVudCk7XG59XG5cbmZ1bmN0aW9uIGxvYWRDYXJkcyhkYXRhKSB7XG4gIGRhdGEuZm9yRWFjaCgoaXRlbSkgPT4gcmVuZGVyQ2FyZChpdGVtKSk7XG59XG5cbmZ1bmN0aW9uIGNsb3NlTW9kYWwobW9kYWwpIHtcbiAgbW9kYWwuY2xhc3NMaXN0LnJlbW92ZShcIm1vZGFsX29wZW5lZFwiKTtcbiAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgY2xvc2VDdXJyZW50TW9kYWxFc2NhcGUpO1xufVxuXG5mdW5jdGlvbiBvcGVuTW9kYWwobW9kYWwpIHtcbiAgbW9kYWwuY2xhc3NMaXN0LmFkZChcIm1vZGFsX29wZW5lZFwiKTtcbiAgY3VycmVudE1vZGFsID0gbW9kYWw7XG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIGNsb3NlQ3VycmVudE1vZGFsRXNjYXBlKTtcbn1cblxuZnVuY3Rpb24gbG9hZFByb2ZpbGVGb3JtKCkge1xuICBwcm9maWxlRm9ybUlucHV0TmFtZS52YWx1ZSA9IHByb2ZpbGVOYW1lLnRleHRDb250ZW50O1xuICBwcm9maWxlRm9ybUlucHV0RGVzY3JpcHRpb24udmFsdWUgPSBwcm9maWxlT2NjdXBhdGlvbi50ZXh0Q29udGVudDtcbiAgZW5hYmxlQnV0dG9uKHByb2ZpbGVGb3JtQnV0dG9uKTtcbn1cblxuZnVuY3Rpb24gc3VibWl0RWRpdFByb2ZpbGUoZXZ0KSB7XG4gIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gIHByb2ZpbGVOYW1lLnRleHRDb250ZW50ID0gcHJvZmlsZUZvcm1JbnB1dE5hbWUudmFsdWU7XG4gIHByb2ZpbGVPY2N1cGF0aW9uLnRleHRDb250ZW50ID0gcHJvZmlsZUZvcm1JbnB1dERlc2NyaXB0aW9uLnZhbHVlO1xuXG4gIGNsb3NlTW9kYWwocHJvZmlsZU1vZGFsKTtcbn1cblxuZnVuY3Rpb24gc3VibWl0QWRkUG9zdChldmVudCkge1xuICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICBjb25zdCBjYXJkRGF0YSA9IHtcbiAgICBsaW5rOiBwb3N0Rm9ybUlucHV0SW1hZ2VMaW5rLnZhbHVlLFxuICAgIG5hbWU6IHBvc3RGb3JtSW5wdXRDYXB0aW9uLnZhbHVlLFxuICB9O1xuICByZW5kZXJDYXJkKGNhcmREYXRhKTtcbiAgY2xvc2VNb2RhbChwb3N0TW9kYWwpO1xuICBwb3N0Rm9ybS5yZXNldCgpO1xuICBkaXNhYmxlQnV0dG9uKHBvc3RGb3JtQnV0dG9uKTtcbn1cblxuZnVuY3Rpb24gbG9hZEltYWdlTW9kYWwoY2FyZERhdGEpIHtcbiAgaW1hZ2VNb2RhbEltYWdlLnNyYyA9IGNhcmREYXRhLmxpbms7XG4gIGltYWdlTW9kYWxJbWFnZS5hbHQgPSBjYXJkRGF0YS5uYW1lO1xuICBpbWFnZU1vZGFsQ2FwdGlvbi50ZXh0Q29udGVudCA9IGNhcmREYXRhLm5hbWU7XG59XG5cbmZ1bmN0aW9uIGNsb3NlQ3VycmVudE1vZGFsRXNjYXBlKGV2dCkge1xuICBpZiAoZXZ0LmtleSA9PT0gXCJFc2NhcGVcIikge1xuICAgIGNsb3NlTW9kYWwoY3VycmVudE1vZGFsKTtcbiAgfVxufVxuXG4vLy0tIEV2ZW50cyAtLS8vXG5cbm1vZGFsQ2xvc2VCdXR0b25zLmZvckVhY2goKGV4aXRCdG4pID0+IHtcbiAgY29uc3QgbW9kYWwgPSBleGl0QnRuLmNsb3Nlc3QoXCIubW9kYWxcIik7XG4gIGV4aXRCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IGNsb3NlTW9kYWwobW9kYWwpKTtcbn0pO1xuXG5wcm9maWxlRWRpdEJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICBsb2FkUHJvZmlsZUZvcm0oKTtcbiAgb3Blbk1vZGFsKHByb2ZpbGVNb2RhbCk7XG59KTtcbnByb2ZpbGVGb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgc3VibWl0RWRpdFByb2ZpbGUpO1xuXG5wb3N0QWRkQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiBvcGVuTW9kYWwocG9zdE1vZGFsKSk7XG5wb3N0Rm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIHN1Ym1pdEFkZFBvc3QpO1xuXG5tb2RhbHMuZm9yRWFjaCgobW9kYWwpID0+IHtcbiAgbW9kYWwuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChldnQpID0+IHtcbiAgICBpZiAoZXZ0LmN1cnJlbnRUYXJnZXQgPT09IGV2dC50YXJnZXQpIHtcbiAgICAgIGNsb3NlTW9kYWwobW9kYWwpO1xuICAgIH1cbiAgfSk7XG59KTtcblxubG9hZENhcmRzKGluaXRpYWxDYXJkcyk7XG4iXSwibmFtZXMiOlsicHJvZmlsZSIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsInByb2ZpbGVOYW1lIiwicHJvZmlsZU9jY3VwYXRpb24iLCJwcm9maWxlRWRpdEJ0biIsIm1vZGFscyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJwcm9maWxlTW9kYWwiLCJwcm9maWxlRm9ybSIsImZvcm1zIiwicHJvZmlsZUZvcm1GaWVsZHNldCIsInByb2ZpbGVGb3JtSW5wdXROYW1lIiwicHJvZmlsZUZvcm1JbnB1dERlc2NyaXB0aW9uIiwicHJvZmlsZUZvcm1CdXR0b24iLCJwb3N0TW9kYWwiLCJwb3N0QWRkQnRuIiwicG9zdEZvcm0iLCJwb3N0Rm9ybUlucHV0SW1hZ2VMaW5rIiwicG9zdEZvcm1JbnB1dENhcHRpb24iLCJwb3N0Rm9ybUJ1dHRvbiIsImltYWdlTW9kYWwiLCJpbWFnZU1vZGFsSW1hZ2UiLCJpbWFnZU1vZGFsQ2FwdGlvbiIsIm1vZGFsQ2xvc2VCdXR0b25zIiwiY2FyZFRlbXBsYXRlIiwiY29udGVudCIsImNhcmRDb250YWluZXIiLCJjdXJyZW50TW9kYWwiLCJyZW5kZXJDYXJkIiwiY2FyZERhdGEiLCJtZXRob2QiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJ1bmRlZmluZWQiLCJjYXJkRWxlbWVudCIsImNsb25lTm9kZSIsImNhcmRFbGVtZW50SW1hZ2UiLCJjYXJkRWxlbWVudFRleHQiLCJjYXJkRWxlbWVudExpa2VJY29uQnRuIiwiY2FyZEVsZW1lbnRUcmFzaEljb25CdG4iLCJ0ZXh0Q29udGVudCIsIm5hbWUiLCJzcmMiLCJsaW5rIiwiYWx0IiwiYWRkRXZlbnRMaXN0ZW5lciIsImNsYXNzTGlzdCIsInRvZ2dsZSIsInJlbW92ZSIsImxvYWRJbWFnZU1vZGFsIiwib3Blbk1vZGFsIiwiY3JlYXRlQ2FyZCIsImNsb3NlTW9kYWwiLCJtb2RhbCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJjbG9zZUN1cnJlbnRNb2RhbEVzY2FwZSIsImFkZCIsImV2dCIsImtleSIsImZvckVhY2giLCJleGl0QnRuIiwiY2xvc2VzdCIsInZhbHVlIiwiZW5hYmxlQnV0dG9uIiwicHJldmVudERlZmF1bHQiLCJldmVudCIsInJlc2V0IiwiZGlzYWJsZUJ1dHRvbiIsImN1cnJlbnRUYXJnZXQiLCJ0YXJnZXQiLCJpdGVtIl0sInNvdXJjZVJvb3QiOiIifQ==