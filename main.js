!function(){const e=document.querySelector(".profile"),t=e.querySelector(".profile__name"),o=e.querySelector(".profile__occupation"),n=document.querySelector(".profile__edit-btn"),r=document.querySelectorAll(".modal"),c=document.querySelector("#profile-modal"),l=document.forms["profile-form"],a=l.querySelector(".modal__fieldset"),i=a.querySelector("#name"),d=a.querySelector("#description"),u=c.querySelector(".modal__button"),f=document.querySelector("#post-modal"),m=document.querySelector(".profile__post-btn"),s=document.forms["post-form"],p=(s.querySelector(".modal__fieldset"),s.querySelector("#image-link")),x=s.querySelector("#caption"),y=s.querySelector(".modal__button"),_=document.querySelector("#image-modal"),q=_.querySelector(".modal__image"),b=_.querySelector(".modal__caption"),w=document.querySelectorAll(".modal__exit-btn"),D=document.querySelector("#card-template").content,S=document.querySelector(".card-container");let v;function h(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"prepend";const o=function(e){const t=D.querySelector(".card").cloneNode(!0),o=t.querySelector(".card__image"),n=t.querySelector(".card__text"),r=t.querySelector(".card__like-icon"),c=t.querySelector(".card__trash-icon");return n.textContent=e.name,o.src=e.link,o.alt=e.name,r.addEventListener("click",(()=>{r.classList.toggle("card__like-icon_selected")})),c.addEventListener("click",(()=>{t.remove()})),o.addEventListener("click",(()=>{!function(e){q.src=e.link,q.alt=e.name,b.textContent=e.name}(e),H(_)})),t}(e);S[t](o)}function k(e){e.classList.remove("modal_opened"),document.removeEventListener("keydown",M)}function H(e){e.classList.add("modal_opened"),v=e,document.addEventListener("keydown",M)}function M(e){"Escape"===e.key&&k(v)}w.forEach((e=>{const t=e.closest(".modal");e.addEventListener("click",(()=>k(t)))})),n.addEventListener("click",(()=>{i.value=t.textContent,d.value=o.textContent,enableButton(u),H(c)})),l.addEventListener("submit",(function(e){e.preventDefault(),t.textContent=i.value,o.textContent=d.value,k(c)})),m.addEventListener("click",(()=>H(f))),s.addEventListener("submit",(function(e){e.preventDefault(),h({link:p.value,name:x.value}),k(f),s.reset(),disableButton(y)})),r.forEach((e=>{e.addEventListener("click",(t=>{t.currentTarget===t.target&&k(e)}))})),[{name:"Door",link:"https://images.unsplash.com/photo-1722100351919-86ee668c88db?q=80&w=1935&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"},{name:"Greens",link:"https://images.unsplash.com/photo-1722113515289-72771c520102?q=80&w=1887&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"},{name:"Overflow",link:"https://images.unsplash.com/photo-1722082095682-510a3ce6d59f?q=80&w=1887&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"},{name:"Mountains",link:"https://images.unsplash.com/photo-1723451150503-a82e2ccf121e?q=80&w=930&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"},{name:"Post",link:"https://images.unsplash.com/photo-1682935757340-ca567f83da68?q=80&w=1887&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"},{name:"Large House",link:"https://images.unsplash.com/photo-1722113515787-cdb34057d018?q=80&w=1887&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"}].forEach((e=>h(e)))}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFpQixVQTVDN0IsU0FBMkJZLEdBQ3pCQSxFQUFJTyxpQkFFSjlELEVBQVlzQyxZQUFjN0IsRUFBcUJtRCxNQUMvQzNELEVBQWtCcUMsWUFBYzVCLEVBQTRCa0QsTUFFNURWLEVBQVc3QyxFQUNiLElBdUNBUSxFQUFXOEIsaUJBQWlCLFNBQVMsSUFBTUssRUFBVXBDLEtBQ3JERSxFQUFTNkIsaUJBQWlCLFVBdEMxQixTQUF1Qm9CLEdBQ3JCQSxFQUFNRCxpQkFLTnBDLEVBSmlCLENBQ2ZlLEtBQU0xQixFQUF1QjZDLE1BQzdCckIsS0FBTXZCLEVBQXFCNEMsUUFHN0JWLEVBQVd0QyxHQUNYRSxFQUFTa0QsUUFDVEMsY0FBY2hELEVBQ2hCLElBOEJBZCxFQUFPc0QsU0FBU04sSUFDZEEsRUFBTVIsaUJBQWlCLFNBQVVZLElBQzNCQSxFQUFJVyxnQkFBa0JYLEVBQUlZLFFBQzVCakIsRUFBV0MsRUFDYixHQUNBLElBcExpQixDQUNuQixDQUNFWixLQUFNLE9BQ05FLEtBQU0sMEtBRVIsQ0FDRUYsS0FBTSxTQUNORSxLQUFNLDBLQUVSLENBQ0VGLEtBQU0sV0FDTkUsS0FBTSwwS0FFUixDQUNFRixLQUFNLFlBQ05FLEtBQU0seUtBRVIsQ0FDRUYsS0FBTSxPQUNORSxLQUFNLDBLQUVSLENBQ0VGLEtBQU0sY0FDTkUsS0FBTSwyS0FtRkhnQixTQUFTVyxHQUFTMUMsRUFBVzBDLEkiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9zcG90cy1wcm9qZWN0Ly4vc3JjL3NjcmlwdHMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8tLSBWYXJpYWJsZXMgLS0vL1xyXG5cclxuLy8gQ2FyZCBkYXRhXHJcbmNvbnN0IGluaXRpYWxDYXJkcyA9IFtcclxuICB7XHJcbiAgICBuYW1lOiBcIkRvb3JcIixcclxuICAgIGxpbms6IFwiaHR0cHM6Ly9pbWFnZXMudW5zcGxhc2guY29tL3Bob3RvLTE3MjIxMDAzNTE5MTktODZlZTY2OGM4OGRiP3E9ODAmdz0xOTM1JmF1dG89Zm9ybWF0JmZpdD1jcm9wJml4bGliPXJiLTQuMC4zJml4aWQ9TTN3eE1qQTNmREI4TUh4d2FHOTBieTF3WVdkbGZIeDhmR1Z1ZkRCOGZIeDhmQSUzRCUzRFwiLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgbmFtZTogXCJHcmVlbnNcIixcclxuICAgIGxpbms6IFwiaHR0cHM6Ly9pbWFnZXMudW5zcGxhc2guY29tL3Bob3RvLTE3MjIxMTM1MTUyODktNzI3NzFjNTIwMTAyP3E9ODAmdz0xODg3JmF1dG89Zm9ybWF0JmZpdD1jcm9wJml4bGliPXJiLTQuMC4zJml4aWQ9TTN3eE1qQTNmREI4TUh4d2FHOTBieTF3WVdkbGZIeDhmR1Z1ZkRCOGZIeDhmQSUzRCUzRFwiLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgbmFtZTogXCJPdmVyZmxvd1wiLFxyXG4gICAgbGluazogXCJodHRwczovL2ltYWdlcy51bnNwbGFzaC5jb20vcGhvdG8tMTcyMjA4MjA5NTY4Mi01MTBhM2NlNmQ1OWY/cT04MCZ3PTE4ODcmYXV0bz1mb3JtYXQmZml0PWNyb3AmaXhsaWI9cmItNC4wLjMmaXhpZD1NM3d4TWpBM2ZEQjhNSHh3YUc5MGJ5MXdZV2RsZkh4OGZHVnVmREI4Zkh4OGZBJTNEJTNEXCIsXHJcbiAgfSxcclxuICB7XHJcbiAgICBuYW1lOiBcIk1vdW50YWluc1wiLFxyXG4gICAgbGluazogXCJodHRwczovL2ltYWdlcy51bnNwbGFzaC5jb20vcGhvdG8tMTcyMzQ1MTE1MDUwMy1hODJlMmNjZjEyMWU/cT04MCZ3PTkzMCZhdXRvPWZvcm1hdCZmaXQ9Y3JvcCZpeGxpYj1yYi00LjAuMyZpeGlkPU0zd3hNakEzZkRCOE1IeHdhRzkwYnkxd1lXZGxmSHg4ZkdWdWZEQjhmSHg4ZkElM0QlM0RcIixcclxuICB9LFxyXG4gIHtcclxuICAgIG5hbWU6IFwiUG9zdFwiLFxyXG4gICAgbGluazogXCJodHRwczovL2ltYWdlcy51bnNwbGFzaC5jb20vcGhvdG8tMTY4MjkzNTc1NzM0MC1jYTU2N2Y4M2RhNjg/cT04MCZ3PTE4ODcmYXV0bz1mb3JtYXQmZml0PWNyb3AmaXhsaWI9cmItNC4wLjMmaXhpZD1NM3d4TWpBM2ZEQjhNSHh3YUc5MGJ5MXdZV2RsZkh4OGZHVnVmREI4Zkh4OGZBJTNEJTNEXCIsXHJcbiAgfSxcclxuICB7XHJcbiAgICBuYW1lOiBcIkxhcmdlIEhvdXNlXCIsXHJcbiAgICBsaW5rOiBcImh0dHBzOi8vaW1hZ2VzLnVuc3BsYXNoLmNvbS9waG90by0xNzIyMTEzNTE1Nzg3LWNkYjM0MDU3ZDAxOD9xPTgwJnc9MTg4NyZhdXRvPWZvcm1hdCZmaXQ9Y3JvcCZpeGxpYj1yYi00LjAuMyZpeGlkPU0zd3hNakEzZkRCOE1IeHdhRzkwYnkxd1lXZGxmSHg4ZkdWdWZEQjhmSHg4ZkElM0QlM0RcIixcclxuICB9LFxyXG5dO1xyXG5cclxuLy8gQXZhdGFyIGluZm9cclxuY29uc3QgcHJvZmlsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZVwiKTtcclxuY29uc3QgcHJvZmlsZU5hbWUgPSBwcm9maWxlLnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fbmFtZVwiKTtcclxuY29uc3QgcHJvZmlsZU9jY3VwYXRpb24gPSBwcm9maWxlLnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fb2NjdXBhdGlvblwiKTtcclxuY29uc3QgcHJvZmlsZUVkaXRCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2VkaXQtYnRuXCIpO1xyXG5cclxuLy8gTW9kYWxzXHJcbmNvbnN0IG1vZGFscyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIubW9kYWxcIik7XHJcblxyXG4vLyBQcm9maWxlIE1vZGFsXHJcbmNvbnN0IHByb2ZpbGVNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcHJvZmlsZS1tb2RhbFwiKTtcclxuY29uc3QgcHJvZmlsZUZvcm0gPSBkb2N1bWVudC5mb3Jtc1tcInByb2ZpbGUtZm9ybVwiXTtcclxuY29uc3QgcHJvZmlsZUZvcm1GaWVsZHNldCA9IHByb2ZpbGVGb3JtLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2ZpZWxkc2V0XCIpO1xyXG5jb25zdCBwcm9maWxlRm9ybUlucHV0TmFtZSA9IHByb2ZpbGVGb3JtRmllbGRzZXQucXVlcnlTZWxlY3RvcihcIiNuYW1lXCIpO1xyXG5jb25zdCBwcm9maWxlRm9ybUlucHV0RGVzY3JpcHRpb24gPVxyXG4gIHByb2ZpbGVGb3JtRmllbGRzZXQucXVlcnlTZWxlY3RvcihcIiNkZXNjcmlwdGlvblwiKTtcclxuY29uc3QgcHJvZmlsZUZvcm1CdXR0b24gPSBwcm9maWxlTW9kYWwucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fYnV0dG9uXCIpO1xyXG5cclxuLy8gUG9zdCBNb2RhbFxyXG5jb25zdCBwb3N0TW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Bvc3QtbW9kYWxcIik7XHJcbmNvbnN0IHBvc3RBZGRCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX3Bvc3QtYnRuXCIpO1xyXG5jb25zdCBwb3N0Rm9ybSA9IGRvY3VtZW50LmZvcm1zW1wicG9zdC1mb3JtXCJdO1xyXG5jb25zdCBwb3N0Rm9ybUZpZWxkc2V0ID0gcG9zdEZvcm0ucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fZmllbGRzZXRcIik7XHJcbmNvbnN0IHBvc3RGb3JtSW5wdXRJbWFnZUxpbmsgPSBwb3N0Rm9ybS5xdWVyeVNlbGVjdG9yKFwiI2ltYWdlLWxpbmtcIik7XHJcbmNvbnN0IHBvc3RGb3JtSW5wdXRDYXB0aW9uID0gcG9zdEZvcm0ucXVlcnlTZWxlY3RvcihcIiNjYXB0aW9uXCIpO1xyXG5jb25zdCBwb3N0Rm9ybUJ1dHRvbiA9IHBvc3RGb3JtLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2J1dHRvblwiKTtcclxuXHJcbi8vIEltYWdlIE1vZGFsXHJcbmNvbnN0IGltYWdlTW9kYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2ltYWdlLW1vZGFsXCIpO1xyXG5jb25zdCBpbWFnZU1vZGFsSW1hZ2UgPSBpbWFnZU1vZGFsLnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX2ltYWdlXCIpO1xyXG5jb25zdCBpbWFnZU1vZGFsQ2FwdGlvbiA9IGltYWdlTW9kYWwucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fY2FwdGlvblwiKTtcclxuXHJcbi8vIENsb3NlIEJ1dHRvbnNcclxuY29uc3QgbW9kYWxDbG9zZUJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLm1vZGFsX19leGl0LWJ0blwiKTtcclxuXHJcbi8vIENhcmRzXHJcbmNvbnN0IGNhcmRUZW1wbGF0ZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjY2FyZC10ZW1wbGF0ZVwiKS5jb250ZW50O1xyXG5jb25zdCBjYXJkQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkLWNvbnRhaW5lclwiKTtcclxuXHJcbi8vIERhdGFcclxubGV0IGN1cnJlbnRNb2RhbDtcclxuXHJcbi8vLS0gRnVuY3Rpb25zIC0tLy9cclxuXHJcbi8vIFJldHVybnMgYSBjcmVhdGVkIGNhcmQgZWxlbWVudCBmcm9tIGNhcmQgZGF0YVxyXG5mdW5jdGlvbiBjcmVhdGVDYXJkKGNhcmREYXRhKSB7XHJcbiAgY29uc3QgY2FyZEVsZW1lbnQgPSBjYXJkVGVtcGxhdGUucXVlcnlTZWxlY3RvcihcIi5jYXJkXCIpLmNsb25lTm9kZSh0cnVlKTtcclxuICBjb25zdCBjYXJkRWxlbWVudEltYWdlID0gY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX19pbWFnZVwiKTtcclxuICBjb25zdCBjYXJkRWxlbWVudFRleHQgPSBjYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX3RleHRcIik7XHJcbiAgY29uc3QgY2FyZEVsZW1lbnRMaWtlSWNvbkJ0biA9IGNhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fbGlrZS1pY29uXCIpO1xyXG4gIGNvbnN0IGNhcmRFbGVtZW50VHJhc2hJY29uQnRuID1cclxuICAgIGNhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fdHJhc2gtaWNvblwiKTtcclxuXHJcbiAgY2FyZEVsZW1lbnRUZXh0LnRleHRDb250ZW50ID0gY2FyZERhdGEubmFtZTtcclxuICBjYXJkRWxlbWVudEltYWdlLnNyYyA9IGNhcmREYXRhLmxpbms7XHJcbiAgY2FyZEVsZW1lbnRJbWFnZS5hbHQgPSBjYXJkRGF0YS5uYW1lO1xyXG5cclxuICBjYXJkRWxlbWVudExpa2VJY29uQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICBjYXJkRWxlbWVudExpa2VJY29uQnRuLmNsYXNzTGlzdC50b2dnbGUoXCJjYXJkX19saWtlLWljb25fc2VsZWN0ZWRcIik7XHJcbiAgfSk7XHJcblxyXG4gIGNhcmRFbGVtZW50VHJhc2hJY29uQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICBjYXJkRWxlbWVudC5yZW1vdmUoKTtcclxuICB9KTtcclxuXHJcbiAgY2FyZEVsZW1lbnRJbWFnZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgbG9hZEltYWdlTW9kYWwoY2FyZERhdGEpO1xyXG4gICAgb3Blbk1vZGFsKGltYWdlTW9kYWwpO1xyXG4gIH0pO1xyXG5cclxuICByZXR1cm4gY2FyZEVsZW1lbnQ7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHJlbmRlckNhcmQoY2FyZERhdGEsIG1ldGhvZCA9IFwicHJlcGVuZFwiKSB7XHJcbiAgY29uc3QgY2FyZEVsZW1lbnQgPSBjcmVhdGVDYXJkKGNhcmREYXRhKTtcclxuICBjYXJkQ29udGFpbmVyW21ldGhvZF0oY2FyZEVsZW1lbnQpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBsb2FkQ2FyZHMoZGF0YSkge1xyXG4gIGRhdGEuZm9yRWFjaCgoaXRlbSkgPT4gcmVuZGVyQ2FyZChpdGVtKSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNsb3NlTW9kYWwobW9kYWwpIHtcclxuICBtb2RhbC5jbGFzc0xpc3QucmVtb3ZlKFwibW9kYWxfb3BlbmVkXCIpO1xyXG4gIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIGNsb3NlQ3VycmVudE1vZGFsRXNjYXBlKTtcclxufVxyXG5cclxuZnVuY3Rpb24gb3Blbk1vZGFsKG1vZGFsKSB7XHJcbiAgbW9kYWwuY2xhc3NMaXN0LmFkZChcIm1vZGFsX29wZW5lZFwiKTtcclxuICBjdXJyZW50TW9kYWwgPSBtb2RhbDtcclxuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCBjbG9zZUN1cnJlbnRNb2RhbEVzY2FwZSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGxvYWRQcm9maWxlRm9ybSgpIHtcclxuICBwcm9maWxlRm9ybUlucHV0TmFtZS52YWx1ZSA9IHByb2ZpbGVOYW1lLnRleHRDb250ZW50O1xyXG4gIHByb2ZpbGVGb3JtSW5wdXREZXNjcmlwdGlvbi52YWx1ZSA9IHByb2ZpbGVPY2N1cGF0aW9uLnRleHRDb250ZW50O1xyXG4gIGVuYWJsZUJ1dHRvbihwcm9maWxlRm9ybUJ1dHRvbik7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHN1Ym1pdEVkaXRQcm9maWxlKGV2dCkge1xyXG4gIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICBwcm9maWxlTmFtZS50ZXh0Q29udGVudCA9IHByb2ZpbGVGb3JtSW5wdXROYW1lLnZhbHVlO1xyXG4gIHByb2ZpbGVPY2N1cGF0aW9uLnRleHRDb250ZW50ID0gcHJvZmlsZUZvcm1JbnB1dERlc2NyaXB0aW9uLnZhbHVlO1xyXG5cclxuICBjbG9zZU1vZGFsKHByb2ZpbGVNb2RhbCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHN1Ym1pdEFkZFBvc3QoZXZlbnQpIHtcclxuICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gIGNvbnN0IGNhcmREYXRhID0ge1xyXG4gICAgbGluazogcG9zdEZvcm1JbnB1dEltYWdlTGluay52YWx1ZSxcclxuICAgIG5hbWU6IHBvc3RGb3JtSW5wdXRDYXB0aW9uLnZhbHVlLFxyXG4gIH07XHJcbiAgcmVuZGVyQ2FyZChjYXJkRGF0YSk7XHJcbiAgY2xvc2VNb2RhbChwb3N0TW9kYWwpO1xyXG4gIHBvc3RGb3JtLnJlc2V0KCk7XHJcbiAgZGlzYWJsZUJ1dHRvbihwb3N0Rm9ybUJ1dHRvbik7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGxvYWRJbWFnZU1vZGFsKGNhcmREYXRhKSB7XHJcbiAgaW1hZ2VNb2RhbEltYWdlLnNyYyA9IGNhcmREYXRhLmxpbms7XHJcbiAgaW1hZ2VNb2RhbEltYWdlLmFsdCA9IGNhcmREYXRhLm5hbWU7XHJcbiAgaW1hZ2VNb2RhbENhcHRpb24udGV4dENvbnRlbnQgPSBjYXJkRGF0YS5uYW1lO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjbG9zZUN1cnJlbnRNb2RhbEVzY2FwZShldnQpIHtcclxuICBpZiAoZXZ0LmtleSA9PT0gXCJFc2NhcGVcIikge1xyXG4gICAgY2xvc2VNb2RhbChjdXJyZW50TW9kYWwpO1xyXG4gIH1cclxufVxyXG5cclxuLy8tLSBFdmVudHMgLS0vL1xyXG5cclxubW9kYWxDbG9zZUJ1dHRvbnMuZm9yRWFjaCgoZXhpdEJ0bikgPT4ge1xyXG4gIGNvbnN0IG1vZGFsID0gZXhpdEJ0bi5jbG9zZXN0KFwiLm1vZGFsXCIpO1xyXG4gIGV4aXRCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IGNsb3NlTW9kYWwobW9kYWwpKTtcclxufSk7XHJcblxyXG5wcm9maWxlRWRpdEJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gIGxvYWRQcm9maWxlRm9ybSgpO1xyXG4gIG9wZW5Nb2RhbChwcm9maWxlTW9kYWwpO1xyXG59KTtcclxucHJvZmlsZUZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCBzdWJtaXRFZGl0UHJvZmlsZSk7XHJcblxyXG5wb3N0QWRkQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiBvcGVuTW9kYWwocG9zdE1vZGFsKSk7XHJcbnBvc3RGb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgc3VibWl0QWRkUG9zdCk7XHJcblxyXG5tb2RhbHMuZm9yRWFjaCgobW9kYWwpID0+IHtcclxuICBtb2RhbC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGV2dCkgPT4ge1xyXG4gICAgaWYgKGV2dC5jdXJyZW50VGFyZ2V0ID09PSBldnQudGFyZ2V0KSB7XHJcbiAgICAgIGNsb3NlTW9kYWwobW9kYWwpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG59KTtcclxuXHJcbmxvYWRDYXJkcyhpbml0aWFsQ2FyZHMpO1xyXG4iXSwibmFtZXMiOlsicHJvZmlsZSIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsInByb2ZpbGVOYW1lIiwicHJvZmlsZU9jY3VwYXRpb24iLCJwcm9maWxlRWRpdEJ0biIsIm1vZGFscyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJwcm9maWxlTW9kYWwiLCJwcm9maWxlRm9ybSIsImZvcm1zIiwicHJvZmlsZUZvcm1GaWVsZHNldCIsInByb2ZpbGVGb3JtSW5wdXROYW1lIiwicHJvZmlsZUZvcm1JbnB1dERlc2NyaXB0aW9uIiwicHJvZmlsZUZvcm1CdXR0b24iLCJwb3N0TW9kYWwiLCJwb3N0QWRkQnRuIiwicG9zdEZvcm0iLCJwb3N0Rm9ybUlucHV0SW1hZ2VMaW5rIiwicG9zdEZvcm1JbnB1dENhcHRpb24iLCJwb3N0Rm9ybUJ1dHRvbiIsImltYWdlTW9kYWwiLCJpbWFnZU1vZGFsSW1hZ2UiLCJpbWFnZU1vZGFsQ2FwdGlvbiIsIm1vZGFsQ2xvc2VCdXR0b25zIiwiY2FyZFRlbXBsYXRlIiwiY29udGVudCIsImNhcmRDb250YWluZXIiLCJjdXJyZW50TW9kYWwiLCJyZW5kZXJDYXJkIiwiY2FyZERhdGEiLCJtZXRob2QiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJ1bmRlZmluZWQiLCJjYXJkRWxlbWVudCIsImNsb25lTm9kZSIsImNhcmRFbGVtZW50SW1hZ2UiLCJjYXJkRWxlbWVudFRleHQiLCJjYXJkRWxlbWVudExpa2VJY29uQnRuIiwiY2FyZEVsZW1lbnRUcmFzaEljb25CdG4iLCJ0ZXh0Q29udGVudCIsIm5hbWUiLCJzcmMiLCJsaW5rIiwiYWx0IiwiYWRkRXZlbnRMaXN0ZW5lciIsImNsYXNzTGlzdCIsInRvZ2dsZSIsInJlbW92ZSIsImxvYWRJbWFnZU1vZGFsIiwib3Blbk1vZGFsIiwiY3JlYXRlQ2FyZCIsImNsb3NlTW9kYWwiLCJtb2RhbCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJjbG9zZUN1cnJlbnRNb2RhbEVzY2FwZSIsImFkZCIsImV2dCIsImtleSIsImZvckVhY2giLCJleGl0QnRuIiwiY2xvc2VzdCIsInZhbHVlIiwiZW5hYmxlQnV0dG9uIiwicHJldmVudERlZmF1bHQiLCJldmVudCIsInJlc2V0IiwiZGlzYWJsZUJ1dHRvbiIsImN1cnJlbnRUYXJnZXQiLCJ0YXJnZXQiLCJpdGVtIl0sInNvdXJjZVJvb3QiOiIifQ==